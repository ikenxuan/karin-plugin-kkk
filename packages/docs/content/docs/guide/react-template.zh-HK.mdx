---
title: 現代化模板渲染
description: 基於 React 與 TailwindCSS 嘅模板開發方案
---

import { Callout } from 'fumadocs-ui/components/callout';

本插件嘅核心目標係解決傳統模板引擎在**長期維護**上嘅痛點。通过採用 **React + TailwindCSS** 技術棧，將現代前端嘅工程化能力引入圖片生成領域，實現了**極高嘅可維護性**。

<Callout type="warn" title="傳統方案嘅維護陷阱">
隨著項目迭代，基於 `art-template` 嘅模板往往會陷入維護泥潭：
- **邏輯黑洞**：業務邏輯混雜在 HTML 模板中，難以閱讀同剝離。
- **樣式衝突**：全局 CSS 類名隨著時間推移不斷堆積，修改一個樣式可能導致多處崩壞。
- **重構風險**：缺乏類型檢查，修改字段名就像在"排雷"，只能祈禱運行時唔出錯。
</Callout>

## 方案對比

### 傳統方案 (art-template)

<Callout type="error" title="開發痛點">
- **調試低效**：修改代碼 -> 編譯生成 -> 瀏覽器刷新，反饋鏈路極長。
- **工程缺失**：缺乏 Source Map 導致報錯定位難；全局 CSS 易引發樣式衝突。
- **維護困難**：邏輯與視圖耦合嚴重，缺乏 TypeScript 類型支持，重構風險高。
- **交互受限**：僅能實現靜態渲染，難以處理複雜嘅動態佈局邏輯。
- **資源割裂**：圖片、字體等靜態資源引用路徑處理繁瑣，缺乏統一嘅打包優化。
</Callout>

### 現代方案 (React)

<Callout type="info" title="核心優勢">
- **極致體驗**：內置可視化面板，支持 HMR 熱更新，毫秒級反饋。
- **架構先進**：組件化開發實現高內聚低耦合；TailwindCSS 解決樣式衝突。
- **生態豐富**：背靠 React 龐大生態，海量組件庫與工具庫即插即用。
- **邏輯複用**：利用 Hooks 輕鬆複用狀態邏輯，輕鬆應對複雜數據處理。
- **構建優化**：依托 Vite 強大嘅構建能力，自動處理資源壓縮、路徑別名等。
</Callout>

### 綜合對比表

| 特性 | art-template | React + Tailwind |
| :--- | :--- | :--- |
| **核心理念** | 字串拼接模板 | **組件化視圖構建** |
| **樣式方案** | 全局 CSS (易衝突) | **TailwindCSS (原子化)** |
| **數據流** | 弱類型，隱式傳遞 | **TypeScript 強類型 props** |
| **調試體驗** | 盲寫，手動刷新 | **可視化面板，實時預覽** |
| **渲染機制** | 運行時編譯 HTML | **構建時預編譯 SSR** |

## 架構優勢

本方案用**現代前端工程化思維**重構了靜態圖片嘅生成方式，核心優勢體現在三個方面：

**組件化構建**：摒棄 `art-template` 簡陋嘅 `include` 語法，React 組件允許將複雜畫面拆解為獨立單元。每個組件獨立管理樣式與邏輯，基礎組件可在不同模板間無縫複用。

**原子化樣式**：TailwindCSS 徹底告別 `style.css` 幾千行嘅噩夢。樣式直接作用於 DOM 元素，唔存在類名覆蓋問題；構建時自動剔除未使用嘅樣式，生成嘅 HTML 體積更細。

**類型安全**：從數據獲取到圖片渲染，全鏈路 TypeScript 類型護航。編寫模板時 IDE 自動提示數據結構，後端字段變更時前端立即報錯，避免線上"圖片渲染失敗"。

## 開發輔助

雖然最終產物係靜態圖片，但內置了**可視化開發面板** (`pnpm dev`) 來提升開發效率：

- **實時預覽**：修改組件代碼，瀏覽器右側即時刷新渲染結果。
- **數據Mock**：可配置多套 JSON 數據，輕鬆測試文本超長、頭像缺失等邊緣情況。
- **快速調試**：無需啟動整個 Bot，僅需瀏覽器即可完成模板開發。

## 生態複用

得益於 React 標準，可以直接引入成熟嘅庫來豐富**靜態畫面**嘅表現力：

- **排版佈局**：引入現代化嘅 UI 組件庫，快速構建精美嘅卡片、列表。
- **數據可視化**：使用專業圖表庫將複雜數據渲染為統計圖表。
- **矢量圖標**：引入海量 SVG 圖標庫，支持任意縮放唔失真。

## 工作原理

<Mermaid chart={`
flowchart TB
    subgraph Development [開發階段]
        direction LR
        A[React 組件源碼] -- HMR 熱更新 --> B[可視化開發面板]
        B -- 實時預覽 --> C[開發者]
    end

    subgraph Build [構建階段]
        direction LR
        D[Vite 構建] -- 編譯 --> E[SSR Bundle]
    end

    subgraph Runtime [運行時]
        direction LR
        F[插件邏輯] -- 數據 --> G[SSR 渲染引擎]
        E -- 組件 --> G
        G -- 生成 --> H[完整 HTML]
        H -- Karin render 截圖 --> I[最終圖片]
    end

    Development -.-> Build
    Build -.-> Runtime
`} />
