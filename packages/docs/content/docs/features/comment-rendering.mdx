---
title: 评论区渲染
description: 将评论区内容渲染为精美图片
---

import { Callout } from 'fumadocs-ui/components/callout';
import { Accordion, Accordions } from 'fumadocs-ui/components/accordion';

将各平台的评论区内容渲染为图片发送，方便在群聊中快速预览热评和用户讨论。

## 支持平台

| 平台 | 楼中楼深度 | 特色功能 |
|------|-----------|---------|
| 抖音 | 最多 6 层 | 完整对话嵌套、自动缩进 |
| B站 | 1 层 | 粉丝勋章、用户等级 |
| 小红书 | 1 层 | 图片评论 |
| 快手 | 仅主评论 | - |

## 楼中楼说明

不同平台对评论嵌套的支持程度不同：

- **抖音**：支持完整的楼中楼结构，最多可嵌套 6 层。能够完整还原用户在评论区的对话场景，根据"谁回复了谁"自动进行缩进嵌套，清晰展示讨论脉络。
- **B站 / 小红书**：支持 1 层嵌套，即主评论下可显示子评论，但子评论之间不再嵌套。
- **快手**：仅显示主评论，不显示回复。

## 效果预览

<Accordions>
  <Accordion title="抖音评论渲染">
    ![抖音评论示例](/douyin-comments-demo.png)
  </Accordion>
  <Accordion title="B站评论渲染">
    ![B站评论示例](/bilibili-comments-demo.png)
  </Accordion>
  <Accordion title="小红书评论渲染">
    ![小红书评论示例](/xiaohongshu-comments-demo.png)
  </Accordion>
  <Accordion title="快手评论渲染">
    ![快手评论示例](/kuaishou-comments-demo.png)
  </Accordion>
</Accordions>

## 功能特性

### 内容还原
- **表情包解析**：支持各平台自带表情（抖音表情、B站小电视等）
- **图片评论**：显示评论中的图片，HEIC 格式自动转 JPG
- **特殊文本**：高亮显示 @用户、#话题
- **粉丝勋章**：B站评论显示用户粉丝勋章和等级

### 智能排版
- **置顶评论**：自动识别并置顶作者置顶的评论
- **长文优化**：长评论自动优化排版，保证阅读体验
- **对话嵌套**：抖音支持完整对话树，直观展示讨论结构

## 配置

在 WebUI 中可针对每个平台单独配置：

- **解析数量**：渲染的评论条数（建议 10-20 条）
- **子评论限制**：控制楼中楼显示数量，避免图片过长
- **显示真实数量**：显示实际解析数量或平台标注的总数
