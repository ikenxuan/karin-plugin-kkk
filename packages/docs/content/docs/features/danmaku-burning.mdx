---
title: 弹幕烧录
description: 将弹幕硬编码到视频中
---

import { Callout } from 'fumadocs-ui/components/callout';
import { Tab, Tabs } from 'fumadocs-ui/components/tabs';

<Callout type="warn">
该功能暂未正式发布，将在 **v2.17.0** 版本中支持。
</Callout>

本插件支持将视频弹幕**硬编码（烧录）**到视频画面中，生成带弹幕的 MP4 视频文件。目前仅支持 **B站**，未来计划支持更多平台。

## 核心技术

插件内置了强大的弹幕处理模块，核心能力包括：

### ASS 字幕渲染
使用标准 ASS 字幕格式进行渲染，高度还原播放器体验：
- **滚动弹幕**：Mode 1/2/3，自动计算轨道，支持智能防碰撞算法。
- **固定弹幕**：Mode 4 (底部) / Mode 5 (顶部)，自动堆叠。
- **样式还原**：支持弹幕颜色、字体大小、不透明度调节。

### 智能竖屏适配
针对移动端竖屏观看场景，提供了智能的画面处理策略：
- **标准模式** (Standard)：仅对宽屏视频（宽高比 >= 1.7）进行适配，自动缩放并填充黑边。
- **强制模式** (Force)：将所有视频强制转换为 9:16 竖屏格式。
  - 横屏视频：保持比例缩放，上下填充黑边。
  - 竖屏视频：保持比例缩放，左右填充黑边。
- **关闭** (Off)：保持原始视频比例。

### 硬件加速与画质控制
- **硬件编码**：自动检测并使用 NVIDIA (NVENC)、Intel (QSV)、AMD (AMF) 硬件编码器，大幅提升处理速度。
- **智能码率**：自动分析源视频码率，在转码时尽可能匹配原画质，避免过度压缩或体积膨胀。
- **多编码格式**：支持 H.264、H.265 (HEVC)、AV1 编码格式。

## 配置说明

本功能涉及多个配置项（如弹幕区域、竖屏模式、编码格式等），为确保配置正确，**请直接在 Karin WebUI 的 Bilibili 配置页面进行设置**。

WebUI 提供了直观的可视化界面和详细的选项说明，能够帮助你快速调整到最佳效果。
