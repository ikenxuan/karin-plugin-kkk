import{B as F,F as y,M as A,P as q,V as P,ct as E,it as j,rt as I,x as h}from"./index-CrUO_lVe.js";var V=j({"../../node_modules/.pnpm/use-sync-external-store@1.6.0_react@19.2.0/node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.js":(t=>{var e=I();function o(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var n=typeof Object.is=="function"?Object.is:o,u=e.useState,a=e.useEffect,v=e.useLayoutEffect,i=e.useDebugValue;function c(r,s){var m=s(),g=u({inst:{value:m,getSnapshot:s}}),l=g[0].inst,x=g[1];return v(function(){l.value=m,l.getSnapshot=s,d(l)&&x({inst:l})},[r,m,s]),a(function(){return d(l)&&x({inst:l}),r(function(){d(l)&&x({inst:l})})},[r]),i(m),m}function d(r){var s=r.getSnapshot;r=r.value;try{var m=s();return!n(r,m)}catch{return!0}}function S(r,s){return s()}var _=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?S:c;t.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:_})}),$=j({"../../node_modules/.pnpm/use-sync-external-store@1.6.0_react@19.2.0/node_modules/use-sync-external-store/shim/index.js":((t,e)=>{e.exports=V()})}),z=E($(),1);function T(){return(0,z.useSyncExternalStore)(B,()=>!0,()=>!1)}function B(){return()=>{}}var f=E(I(),1),p=E(P(),1),L="Avatar",[D,W]=F(L),[G,b]=D(L),C=f.forwardRef((t,e)=>{const{__scopeAvatar:o,...n}=t,[u,a]=f.useState("idle");return(0,p.jsx)(G,{scope:o,imageLoadingStatus:u,onImageLoadingStatusChange:a,children:(0,p.jsx)(y.span,{...n,ref:e})})});C.displayName=L;var R="AvatarImage",k=f.forwardRef((t,e)=>{const{__scopeAvatar:o,src:n,onLoadingStatusChange:u=()=>{},...a}=t,v=b(R,o),i=H(n,a),c=q(d=>{u(d),v.onImageLoadingStatusChange(d)});return A(()=>{i!=="idle"&&c(i)},[i,c]),i==="loaded"?(0,p.jsx)(y.img,{...a,ref:e,src:n}):null});k.displayName=R;var N="AvatarFallback",M=f.forwardRef((t,e)=>{const{__scopeAvatar:o,delayMs:n,...u}=t,a=b(N,o),[v,i]=f.useState(n===void 0);return f.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>i(!0),n);return()=>window.clearTimeout(c)}},[n]),v&&a.imageLoadingStatus!=="loaded"?(0,p.jsx)(y.span,{...u,ref:e}):null});M.displayName=N;function w(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function H(t,{referrerPolicy:e,crossOrigin:o}){const n=T(),u=f.useRef(null),a=n?(u.current||(u.current=new window.Image),u.current):null,[v,i]=f.useState(()=>w(a,t));return A(()=>{i(w(a,t))},[a,t]),A(()=>{const c=_=>()=>{i(_)};if(!a)return;const d=c("loaded"),S=c("error");return a.addEventListener("load",d),a.addEventListener("error",S),e&&(a.referrerPolicy=e),typeof o=="string"&&(a.crossOrigin=o),()=>{a.removeEventListener("load",d),a.removeEventListener("error",S)}},[a,o,e]),v}var J=C,K=k,O=M;function Q({className:t,...e}){return(0,p.jsx)(J,{"data-slot":"avatar",className:h("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...e})}function X({className:t,...e}){return(0,p.jsx)(K,{"data-slot":"avatar-image",className:h("aspect-square size-full",t),...e})}function Y({className:t,...e}){return(0,p.jsx)(O,{"data-slot":"avatar-fallback",className:h("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}export{Y as n,X as r,Q as t};
