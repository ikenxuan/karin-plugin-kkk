import{F as E,L as F,U as q,_ as x,at as w,ot as I,ut as b,w as L,y as P}from"./index-0iXNsZoh.js";var $=I((t=>{var e=w();function s(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var n=typeof Object.is=="function"?Object.is:s,u=e.useState,a=e.useEffect,v=e.useLayoutEffect,i=e.useDebugValue;function c(r,o){var m=o(),_=u({inst:{value:m,getSnapshot:o}}),l=_[0].inst,A=_[1];return v(function(){l.value=m,l.getSnapshot=o,d(l)&&A({inst:l})},[r,m,o]),a(function(){return d(l)&&A({inst:l}),r(function(){d(l)&&A({inst:l})})},[r]),i(m),m}function d(r){var o=r.getSnapshot;r=r.value;try{var m=o();return!n(r,m)}catch{return!0}}function g(r,o){return o()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:c;t.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p})),z=I(((t,e)=>{e.exports=$()})),T=z();function V(){return(0,T.useSyncExternalStore)(D,()=>!0,()=>!1)}function D(){return()=>{}}var f=b(w(),1),S=b(q(),1),y="Avatar",[G,W]=P(y),[H,j]=G(y),C=f.forwardRef((t,e)=>{const{__scopeAvatar:s,...n}=t,[u,a]=f.useState("idle");return(0,S.jsx)(H,{scope:s,imageLoadingStatus:u,onImageLoadingStatusChange:a,children:(0,S.jsx)(x.span,{...n,ref:e})})});C.displayName=y;var R="AvatarImage",k=f.forwardRef((t,e)=>{const{__scopeAvatar:s,src:n,onLoadingStatusChange:u=()=>{},...a}=t,v=j(R,s),i=U(n,a),c=F(d=>{u(d),v.onImageLoadingStatusChange(d)});return E(()=>{i!=="idle"&&c(i)},[i,c]),i==="loaded"?(0,S.jsx)(x.img,{...a,ref:e,src:n}):null});k.displayName=R;var N="AvatarFallback",M=f.forwardRef((t,e)=>{const{__scopeAvatar:s,delayMs:n,...u}=t,a=j(N,s),[v,i]=f.useState(n===void 0);return f.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>i(!0),n);return()=>window.clearTimeout(c)}},[n]),v&&a.imageLoadingStatus!=="loaded"?(0,S.jsx)(x.span,{...u,ref:e}):null});M.displayName=N;function h(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function U(t,{referrerPolicy:e,crossOrigin:s}){const n=V(),u=f.useRef(null),a=n?(u.current||(u.current=new window.Image),u.current):null,[v,i]=f.useState(()=>h(a,t));return E(()=>{i(h(a,t))},[a,t]),E(()=>{const c=p=>()=>{i(p)};if(!a)return;const d=c("loaded"),g=c("error");return a.addEventListener("load",d),a.addEventListener("error",g),e&&(a.referrerPolicy=e),typeof s=="string"&&(a.crossOrigin=s),()=>{a.removeEventListener("load",d),a.removeEventListener("error",g)}},[a,s,e]),v}var B=C,J=k,K=M;function Q({className:t,...e}){return(0,S.jsx)(B,{"data-slot":"avatar",className:L("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...e})}function X({className:t,...e}){return(0,S.jsx)(J,{"data-slot":"avatar-image",className:L("aspect-square size-full",t),...e})}function Y({className:t,...e}){return(0,S.jsx)(K,{"data-slot":"avatar-fallback",className:L("bg-muted flex size-full items-center justify-center rounded-full",t),...e})}export{Y as n,X as r,Q as t};
