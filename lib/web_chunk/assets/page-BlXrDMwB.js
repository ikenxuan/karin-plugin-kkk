import{a as Rt,c as un,i as It,n as St,o as Ln,r as kt,s as Ze,t as Et}from"./Combination-DfOm7eIV.js";import{a as ft,i as ve,r as ko,t as Eo}from"./parsers-HgeQbKqv.js";import{A as ot,B as Pe,C as Le,D as Gn,E as Pt,F as T,G as Kn,H as ke,I as Po,J as me,N as At,O as Bn,P as Ge,R as Tt,T as Dt,U as ae,V as Ao,W as j,c as pt,ct as Vn,d as fn,f as pn,j as X,k as Ot,l as mt,p as oe,rt as To,t as q,w as de,x as P,z as Do}from"./index-CC6ADfn_.js";import{n as Oo,r as $o,t as Fo}from"./avatar-CgVgzoNV.js";import{s as mn,t as ge}from"./request-hTMB0Yz6.js";var Lo=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],xn=me("chevrons-up-down",Lo),Go=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],xt=me("copy",Go),Ko=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ht=me("external-link",Ko),Bo=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],vt=me("message-square",Bo),Vo=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Uo=me("plus",Vo),zo=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ho=me("search",zo),Wo=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],gt=me("trash-2",Wo),qo=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],K=me("users",qo),a=Vn(To(),1),hn=1,Yo=.9,Xo=.8,Zo=.17,bt=.1,Ct=.999,Jo=.9999,Qo=.99,ea=/[\\\/_+.#"@\[\(\{&]/,ta=/[\\\/_+.#"@\[\(\{&]/g,na=/[\s-]/,Un=/[\s-]/g;function wt(t,n,r,o,s,l,i){if(l===n.length)return s===t.length?hn:Qo;var u=`${s},${l}`;if(i[u]!==void 0)return i[u];for(var x=o.charAt(l),p=r.indexOf(x,s),f=0,d,h,_,N;p>=0;)d=wt(t,n,r,o,p+1,l+1,i),d>f&&(p===s?d*=hn:ea.test(t.charAt(p-1))?(d*=Xo,_=t.slice(s,p-1).match(ta),_&&s>0&&(d*=Math.pow(Ct,_.length))):na.test(t.charAt(p-1))?(d*=Yo,N=t.slice(s,p-1).match(Un),N&&s>0&&(d*=Math.pow(Ct,N.length))):(d*=Zo,s>0&&(d*=Math.pow(Ct,p-s))),t.charAt(p)!==n.charAt(l)&&(d*=Jo)),(d<bt&&r.charAt(p-1)===o.charAt(l+1)||o.charAt(l+1)===o.charAt(l)&&r.charAt(p-1)!==o.charAt(l))&&(h=wt(t,n,r,o,p+1,l+2,i),h*bt>d&&(d=h*bt)),d>f&&(f=d),p=r.indexOf(x,p+1);return i[u]=f,f}function vn(t){return t.toLowerCase().replace(Un," ")}function ra(t,n,r){return t=r&&r.length>0?`${t+" "+r.join(" ")}`:t,wt(t,n,vn(t),vn(n),0,0,{})}var e=Vn(Ao(),1),at="Dialog",[zn,Kc]=Pe(at),[oa,se]=zn(at),Hn=t=>{const{__scopeDialog:n,children:r,open:o,defaultOpen:s,onOpenChange:l,modal:i=!0}=t,u=a.useRef(null),x=a.useRef(null),[p,f]=Le({prop:o,defaultProp:s??!1,onChange:l,caller:at});return(0,e.jsx)(oa,{scope:n,triggerRef:u,contentRef:x,contentId:X(),titleId:X(),descriptionId:X(),open:p,onOpenChange:f,onOpenToggle:a.useCallback(()=>f(d=>!d),[f]),modal:i,children:r})};Hn.displayName=at;var Wn="DialogTrigger",qn=a.forwardRef((t,n)=>{const{__scopeDialog:r,...o}=t,s=se(Wn,r),l=ae(n,s.triggerRef);return(0,e.jsx)(T.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Lt(s.open),...o,ref:l,onClick:j(t.onClick,s.onOpenToggle)})});qn.displayName=Wn;var $t="DialogPortal",[aa,Yn]=zn($t,{forceMount:void 0}),Xn=t=>{const{__scopeDialog:n,forceMount:r,children:o,container:s}=t,l=se($t,n);return(0,e.jsx)(aa,{scope:n,forceMount:r,children:a.Children.map(o,i=>(0,e.jsx)(de,{present:r||l.open,children:(0,e.jsx)(Dt,{asChild:!0,container:s,children:i})}))})};Xn.displayName=$t;var tt="DialogOverlay",Zn=a.forwardRef((t,n)=>{const r=Yn(tt,t.__scopeDialog),{forceMount:o=r.forceMount,...s}=t,l=se(tt,t.__scopeDialog);return l.modal?(0,e.jsx)(de,{present:o||l.open,children:(0,e.jsx)(ca,{...s,ref:n})}):null});Zn.displayName=tt;var sa=Tt("DialogOverlay.RemoveScroll"),ca=a.forwardRef((t,n)=>{const{__scopeDialog:r,...o}=t,s=se(tt,r);return(0,e.jsx)(Et,{as:sa,allowPinchZoom:!0,shards:[s.contentRef],children:(0,e.jsx)(T.div,{"data-state":Lt(s.open),...o,ref:n,style:{pointerEvents:"auto",...o.style}})})}),be="DialogContent",Jn=a.forwardRef((t,n)=>{const r=Yn(be,t.__scopeDialog),{forceMount:o=r.forceMount,...s}=t,l=se(be,t.__scopeDialog);return(0,e.jsx)(de,{present:o||l.open,children:l.modal?(0,e.jsx)(la,{...s,ref:n}):(0,e.jsx)(ia,{...s,ref:n})})});Jn.displayName=be;var la=a.forwardRef((t,n)=>{const r=se(be,t.__scopeDialog),o=a.useRef(null),s=ae(n,r.contentRef,o);return a.useEffect(()=>{const l=o.current;if(l)return St(l)},[]),(0,e.jsx)(Qn,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:j(t.onCloseAutoFocus,l=>{l.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:j(t.onPointerDownOutside,l=>{const i=l.detail.originalEvent,u=i.button===0&&i.ctrlKey===!0;(i.button===2||u)&&l.preventDefault()}),onFocusOutside:j(t.onFocusOutside,l=>l.preventDefault())})}),ia=a.forwardRef((t,n)=>{const r=se(be,t.__scopeDialog),o=a.useRef(!1),s=a.useRef(!1);return(0,e.jsx)(Qn,{...t,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{t.onCloseAutoFocus?.(l),l.defaultPrevented||(o.current||r.triggerRef.current?.focus(),l.preventDefault()),o.current=!1,s.current=!1},onInteractOutside:l=>{t.onInteractOutside?.(l),l.defaultPrevented||(o.current=!0,l.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=l.target;r.triggerRef.current?.contains(i)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&s.current&&l.preventDefault()}})}),Qn=a.forwardRef((t,n)=>{const{__scopeDialog:r,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:l,...i}=t,u=se(be,r),x=a.useRef(null),p=ae(n,x);return It(),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(kt,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:s,onUnmountAutoFocus:l,children:(0,e.jsx)(At,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Lt(u.open),...i,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ua,{titleId:u.titleId}),(0,e.jsx)(pa,{contentRef:x,descriptionId:u.descriptionId})]})]})}),Ft="DialogTitle",er=a.forwardRef((t,n)=>{const{__scopeDialog:r,...o}=t,s=se(Ft,r);return(0,e.jsx)(T.h2,{id:s.titleId,...o,ref:n})});er.displayName=Ft;var tr="DialogDescription",da=a.forwardRef((t,n)=>{const{__scopeDialog:r,...o}=t,s=se(tr,r);return(0,e.jsx)(T.p,{id:s.descriptionId,...o,ref:n})});da.displayName=tr;var nr="DialogClose",rr=a.forwardRef((t,n)=>{const{__scopeDialog:r,...o}=t,s=se(nr,r);return(0,e.jsx)(T.button,{type:"button",...o,ref:n,onClick:j(t.onClick,()=>s.onOpenChange(!1))})});rr.displayName=nr;function Lt(t){return t?"open":"closed"}var or="DialogTitleWarning",[Bc,ar]=Do(or,{contentName:be,titleName:Ft,docsSlug:"dialog"}),ua=({titleId:t})=>{const n=ar(or),r=`\`${n.contentName}\` requires a \`${n.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${n.docsSlug}`;return a.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},fa="DialogDescriptionWarning",pa=({contentRef:t,descriptionId:n})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ar(fa).contentName}}.`;return a.useEffect(()=>{const o=t.current?.getAttribute("aria-describedby");n&&o&&(document.getElementById(n)||console.warn(r))},[r,t,n]),null},Gt=Hn,ma=qn,Kt=Xn,Bt=Zn,Vt=Jn,xa=er,sr=rr,De='[cmdk-group=""]',jt='[cmdk-group-items=""]',ha='[cmdk-group-heading=""]',cr='[cmdk-item=""]',gn=`${cr}:not([aria-disabled="true"])`,Nt="cmdk-item-select",Ie="data-value",va=(t,n,r)=>ra(t,n,r),lr=a.createContext(void 0),Ke=()=>a.useContext(lr),ir=a.createContext(void 0),Ut=()=>a.useContext(ir),dr=a.createContext(void 0),ur=a.forwardRef((t,n)=>{let r=Se(()=>{var m,b;return{search:"",value:(b=(m=t.value)!=null?m:t.defaultValue)!=null?b:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),o=Se(()=>new Set),s=Se(()=>new Map),l=Se(()=>new Map),i=Se(()=>new Set),u=fr(t),{label:x,children:p,value:f,onValueChange:d,filter:h,shouldFilter:_,loop:N,disablePointerSelection:G=!1,vimBindings:R=!0,...E}=t,O=X(),A=X(),ce=X(),B=a.useRef(null),k=Ia();Ce(()=>{if(f!==void 0){let m=f.trim();r.current.value=m,D.emit()}},[f]),Ce(()=>{k(6,Z)},[]);let D=a.useMemo(()=>({subscribe:m=>(i.current.add(m),()=>i.current.delete(m)),snapshot:()=>r.current,setState:(m,b,w)=>{var v,y,M,F;if(!Object.is(r.current[m],b)){if(r.current[m]=b,m==="search")L(),V(),k(1,re);else if(m==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let I=document.getElementById(ce);I?I.focus():(v=document.getElementById(O))==null||v.focus()}if(k(7,()=>{var I;r.current.selectedItemId=(I=W())==null?void 0:I.id,D.emit()}),w||k(5,Z),((y=u.current)==null?void 0:y.value)!==void 0){let I=b??"";(F=(M=u.current).onValueChange)==null||F.call(M,I);return}}D.emit()}},emit:()=>{i.current.forEach(m=>m())}}),[]),$=a.useMemo(()=>({value:(m,b,w)=>{var v;b!==((v=l.current.get(m))==null?void 0:v.value)&&(l.current.set(m,{value:b,keywords:w}),r.current.filtered.items.set(m,ne(b,w)),k(2,()=>{V(),D.emit()}))},item:(m,b)=>(o.current.add(m),b&&(s.current.has(b)?s.current.get(b).add(m):s.current.set(b,new Set([m]))),k(3,()=>{L(),V(),r.current.value||re(),D.emit()}),()=>{l.current.delete(m),o.current.delete(m),r.current.filtered.items.delete(m);let w=W();k(4,()=>{L(),w?.getAttribute("id")===m&&re(),D.emit()})}),group:m=>(s.current.has(m)||s.current.set(m,new Set),()=>{l.current.delete(m),s.current.delete(m)}),filter:()=>u.current.shouldFilter,label:x||t["aria-label"],getDisablePointerSelection:()=>u.current.disablePointerSelection,listId:O,inputId:ce,labelId:A,listInnerRef:B}),[]);function ne(m,b){var w,v;let y=(v=(w=u.current)==null?void 0:w.filter)!=null?v:va;return m?y(m,r.current.search,b):0}function V(){if(!r.current.search||u.current.shouldFilter===!1)return;let m=r.current.filtered.items,b=[];r.current.filtered.groups.forEach(v=>{let y=s.current.get(v),M=0;y.forEach(F=>{let I=m.get(F);M=Math.max(I,M)}),b.push([v,M])});let w=B.current;le().sort((v,y)=>{var M,F;let I=v.getAttribute("id"),We=y.getAttribute("id");return((M=m.get(We))!=null?M:0)-((F=m.get(I))!=null?F:0)}).forEach(v=>{let y=v.closest(jt);y?y.appendChild(v.parentElement===y?v:v.closest(`${jt} > *`)):w.appendChild(v.parentElement===w?v:v.closest(`${jt} > *`))}),b.sort((v,y)=>y[1]-v[1]).forEach(v=>{var y;let M=(y=B.current)==null?void 0:y.querySelector(`${De}[${Ie}="${encodeURIComponent(v[0])}"]`);M?.parentElement.appendChild(M)})}function re(){let m=le().find(w=>w.getAttribute("aria-disabled")!=="true"),b=m?.getAttribute(Ie);D.setState("value",b||void 0)}function L(){var m,b,w,v;if(!r.current.search||u.current.shouldFilter===!1){r.current.filtered.count=o.current.size;return}r.current.filtered.groups=new Set;let y=0;for(let M of o.current){let F=ne((b=(m=l.current.get(M))==null?void 0:m.value)!=null?b:"",(v=(w=l.current.get(M))==null?void 0:w.keywords)!=null?v:[]);r.current.filtered.items.set(M,F),F>0&&y++}for(let[M,F]of s.current)for(let I of F)if(r.current.filtered.items.get(I)>0){r.current.filtered.groups.add(M);break}r.current.filtered.count=y}function Z(){var m,b,w;let v=W();v&&(((m=v.parentElement)==null?void 0:m.firstChild)===v&&((w=(b=v.closest(De))==null?void 0:b.querySelector(ha))==null||w.scrollIntoView({block:"nearest"})),v.scrollIntoView({block:"nearest"}))}function W(){var m;return(m=B.current)==null?void 0:m.querySelector(`${cr}[aria-selected="true"]`)}function le(){var m;return Array.from(((m=B.current)==null?void 0:m.querySelectorAll(gn))||[])}function ue(m){let b=le()[m];b&&D.setState("value",b.getAttribute(Ie))}function ie(m){var b;let w=W(),v=le(),y=v.findIndex(F=>F===w),M=v[y+m];(b=u.current)!=null&&b.loop&&(M=y+m<0?v[v.length-1]:y+m===v.length?v[0]:v[y+m]),M&&D.setState("value",M.getAttribute(Ie))}function z(m){let b=W(),w=b?.closest(De),v;for(;w&&!v;)w=m>0?_a(w,De):Ra(w,De),v=w?.querySelector(gn);v?D.setState("value",v.getAttribute(Ie)):ie(m)}let C=()=>ue(le().length-1),J=m=>{m.preventDefault(),m.metaKey?C():m.altKey?z(1):ie(1)},Q=m=>{m.preventDefault(),m.metaKey?ue(0):m.altKey?z(-1):ie(-1)};return a.createElement(T.div,{ref:n,tabIndex:-1,...E,"cmdk-root":"",onKeyDown:m=>{var b;(b=E.onKeyDown)==null||b.call(E,m);let w=m.nativeEvent.isComposing||m.keyCode===229;if(!(m.defaultPrevented||w))switch(m.key){case"n":case"j":R&&m.ctrlKey&&J(m);break;case"ArrowDown":J(m);break;case"p":case"k":R&&m.ctrlKey&&Q(m);break;case"ArrowUp":Q(m);break;case"Home":m.preventDefault(),ue(0);break;case"End":m.preventDefault(),C();break;case"Enter":{m.preventDefault();let v=W();if(v){let y=new Event(Nt);v.dispatchEvent(y)}}}}},a.createElement("label",{"cmdk-label":"",htmlFor:$.inputId,id:$.labelId,style:ka},x),st(t,m=>a.createElement(ir.Provider,{value:D},a.createElement(lr.Provider,{value:$},m))))}),ga=a.forwardRef((t,n)=>{var r,o;let s=X(),l=a.useRef(null),i=a.useContext(dr),u=Ke(),x=fr(t),p=(o=(r=x.current)==null?void 0:r.forceMount)!=null?o:i?.forceMount;Ce(()=>{if(!p)return u.item(s,i?.id)},[p]);let f=pr(s,l,[t.value,t.children,l],t.keywords),d=Ut(),h=pe(k=>k.value&&k.value===f.current),_=pe(k=>p||u.filter()===!1?!0:k.search?k.filtered.items.get(s)>0:!0);a.useEffect(()=>{let k=l.current;if(!(!k||t.disabled))return k.addEventListener(Nt,N),()=>k.removeEventListener(Nt,N)},[_,t.onSelect,t.disabled]);function N(){var k,D;G(),(D=(k=x.current).onSelect)==null||D.call(k,f.current)}function G(){d.setState("value",f.current,!0)}if(!_)return null;let{disabled:R,value:E,onSelect:O,forceMount:A,keywords:ce,...B}=t;return a.createElement(T.div,{ref:ke(l,n),...B,id:s,"cmdk-item":"",role:"option","aria-disabled":!!R,"aria-selected":!!h,"data-disabled":!!R,"data-selected":!!h,onPointerMove:R||u.getDisablePointerSelection()?void 0:G,onClick:R?void 0:N},t.children)}),ba=a.forwardRef((t,n)=>{let{heading:r,children:o,forceMount:s,...l}=t,i=X(),u=a.useRef(null),x=a.useRef(null),p=X(),f=Ke(),d=pe(_=>s||f.filter()===!1?!0:_.search?_.filtered.groups.has(i):!0);Ce(()=>f.group(i),[]),pr(i,u,[t.value,t.heading,x]);let h=a.useMemo(()=>({id:i,forceMount:s}),[s]);return a.createElement(T.div,{ref:ke(u,n),...l,"cmdk-group":"",role:"presentation",hidden:d?void 0:!0},r&&a.createElement("div",{ref:x,"cmdk-group-heading":"","aria-hidden":!0,id:p},r),st(t,_=>a.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":r?p:void 0},a.createElement(dr.Provider,{value:h},_))))}),Ca=a.forwardRef((t,n)=>{let{alwaysRender:r,...o}=t,s=a.useRef(null),l=pe(i=>!i.search);return!r&&!l?null:a.createElement(T.div,{ref:ke(s,n),...o,"cmdk-separator":"",role:"separator"})}),ja=a.forwardRef((t,n)=>{let{onValueChange:r,...o}=t,s=t.value!=null,l=Ut(),i=pe(p=>p.search),u=pe(p=>p.selectedItemId),x=Ke();return a.useEffect(()=>{t.value!=null&&l.setState("search",t.value)},[t.value]),a.createElement(T.input,{ref:n,...o,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":x.listId,"aria-labelledby":x.labelId,"aria-activedescendant":u,id:x.inputId,type:"text",value:s?t.value:i,onChange:p=>{s||l.setState("search",p.target.value),r?.(p.target.value)}})}),ya=a.forwardRef((t,n)=>{let{children:r,label:o="Suggestions",...s}=t,l=a.useRef(null),i=a.useRef(null),u=pe(p=>p.selectedItemId),x=Ke();return a.useEffect(()=>{if(i.current&&l.current){let p=i.current,f=l.current,d,h=new ResizeObserver(()=>{d=requestAnimationFrame(()=>{let _=p.offsetHeight;f.style.setProperty("--cmdk-list-height",_.toFixed(1)+"px")})});return h.observe(p),()=>{cancelAnimationFrame(d),h.unobserve(p)}}},[]),a.createElement(T.div,{ref:ke(l,n),...s,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":u,"aria-label":o,id:x.listId},st(t,p=>a.createElement("div",{ref:ke(i,x.listInnerRef),"cmdk-list-sizer":""},p)))}),wa=a.forwardRef((t,n)=>{let{open:r,onOpenChange:o,overlayClassName:s,contentClassName:l,container:i,...u}=t;return a.createElement(Gt,{open:r,onOpenChange:o},a.createElement(Kt,{container:i},a.createElement(Bt,{"cmdk-overlay":"",className:s}),a.createElement(Vt,{"aria-label":t.label,"cmdk-dialog":"",className:l},a.createElement(ur,{ref:n,...u}))))}),Na=a.forwardRef((t,n)=>pe(r=>r.filtered.count===0)?a.createElement(T.div,{ref:n,...t,"cmdk-empty":"",role:"presentation"}):null),Ma=a.forwardRef((t,n)=>{let{progress:r,children:o,label:s="Loading...",...l}=t;return a.createElement(T.div,{ref:n,...l,"cmdk-loading":"",role:"progressbar","aria-valuenow":r,"aria-valuemin":0,"aria-valuemax":100,"aria-label":s},st(t,i=>a.createElement("div",{"aria-hidden":!0},i)))}),Ae=Object.assign(ur,{List:ya,Item:ga,Input:ja,Group:ba,Separator:Ca,Dialog:wa,Empty:Na,Loading:Ma});function _a(t,n){let r=t.nextElementSibling;for(;r;){if(r.matches(n))return r;r=r.nextElementSibling}}function Ra(t,n){let r=t.previousElementSibling;for(;r;){if(r.matches(n))return r;r=r.previousElementSibling}}function fr(t){let n=a.useRef(t);return Ce(()=>{n.current=t}),n}var Ce=typeof window>"u"?a.useEffect:a.useLayoutEffect;function Se(t){let n=a.useRef();return n.current===void 0&&(n.current=t()),n}function pe(t){let n=Ut(),r=()=>t(n.snapshot());return a.useSyncExternalStore(n.subscribe,r,r)}function pr(t,n,r,o=[]){let s=a.useRef(),l=Ke();return Ce(()=>{var i;let u=(()=>{var p;for(let f of r){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(p=f.current.textContent)==null?void 0:p.trim():s.current}})(),x=o.map(p=>p.trim());l.value(t,u,x),(i=n.current)==null||i.setAttribute(Ie,u),s.current=u}),s}var Ia=()=>{let[t,n]=a.useState(),r=Se(()=>new Map);return Ce(()=>{r.current.forEach(o=>o()),r.current=new Map},[t]),(o,s)=>{r.current.set(o,s),n({})}};function Sa(t){let n=t.type;return typeof n=="function"?n(t.props):"render"in n?n.render(t.props):t}function st({asChild:t,children:n},r){return t&&a.isValidElement(n)?a.cloneElement(Sa(n),{ref:n.ref},r(n.props.children)):r(n)}var ka={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function bn({...t}){return(0,e.jsx)(Gt,{"data-slot":"dialog",...t})}function Ea({...t}){return(0,e.jsx)(ma,{"data-slot":"dialog-trigger",...t})}function Pa({...t}){return(0,e.jsx)(Kt,{"data-slot":"dialog-portal",...t})}function Aa({className:t,...n}){return(0,e.jsx)(Bt,{"data-slot":"dialog-overlay",className:P("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...n})}function Cn({className:t,children:n,showCloseButton:r=!0,...o}){return(0,e.jsxs)(Pa,{"data-slot":"dialog-portal",children:[(0,e.jsx)(Aa,{}),(0,e.jsxs)(Vt,{"data-slot":"dialog-content",className:P("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...o,children:[n,r&&(0,e.jsxs)(sr,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,e.jsx)(Kn,{}),(0,e.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function jn({className:t,...n}){return(0,e.jsx)("div",{"data-slot":"dialog-header",className:P("flex flex-col gap-2 text-center sm:text-left",t),...n})}function yn({className:t,...n}){return(0,e.jsx)(xa,{"data-slot":"dialog-title",className:P("text-lg leading-none font-semibold",t),...n})}function wn({className:t,...n}){return(0,e.jsx)(Ae,{"data-slot":"command",className:P("flex overflow-hidden flex-col w-full h-full rounded-md bg-popover text-popover-foreground",t),...n})}function Nn({className:t,...n}){return(0,e.jsxs)("div",{"data-slot":"command-input-wrapper",className:"flex gap-2 items-center px-3 h-9 border-b",children:[(0,e.jsx)(Ho,{className:"opacity-50 size-4 shrink-0"}),(0,e.jsx)(Ae.Input,{"data-slot":"command-input",className:P("flex py-3 w-full h-10 text-sm bg-transparent rounded-md placeholder:text-muted-foreground outline-hidden disabled:cursor-not-allowed disabled:opacity-50",t),...n})]})}function Mn({className:t,...n}){return(0,e.jsx)(Ae.List,{"data-slot":"command-list",className:P("overflow-y-auto overflow-x-hidden max-h-[300px] scroll-py-1",t),...n})}function _n({...t}){return(0,e.jsx)(Ae.Empty,{"data-slot":"command-empty",className:"py-6 text-sm text-center",...t})}function Rn({className:t,...n}){return(0,e.jsx)(Ae.Group,{"data-slot":"command-group",className:P("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",t),...n})}function In({className:t,...n}){return(0,e.jsx)(Ae.Item,{"data-slot":"command-item",className:P("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n})}var yt="rovingFocusGroup.onEntryFocus",Ta={bubbles:!1,cancelable:!0},Be="RovingFocusGroup",[Mt,mr,Da]=Ln(Be),[Oa,ct]=Pe(Be,[Da]),[$a,Fa]=Oa(Be),xr=a.forwardRef((t,n)=>(0,e.jsx)(Mt.Provider,{scope:t.__scopeRovingFocusGroup,children:(0,e.jsx)(Mt.Slot,{scope:t.__scopeRovingFocusGroup,children:(0,e.jsx)(La,{...t,ref:n})})}));xr.displayName=Be;var La=a.forwardRef((t,n)=>{const{__scopeRovingFocusGroup:r,orientation:o,loop:s=!1,dir:l,currentTabStopId:i,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:x,onEntryFocus:p,preventScrollOnEntryFocus:f=!1,...d}=t,h=a.useRef(null),_=ae(n,h),N=Rt(l),[G,R]=Le({prop:i,defaultProp:u??null,onChange:x,caller:Be}),[E,O]=a.useState(!1),A=Ge(p),ce=mr(r),B=a.useRef(!1),[k,D]=a.useState(0);return a.useEffect(()=>{const $=h.current;if($)return $.addEventListener(yt,A),()=>$.removeEventListener(yt,A)},[A]),(0,e.jsx)($a,{scope:r,orientation:o,dir:N,loop:s,currentTabStopId:G,onItemFocus:a.useCallback($=>R($),[R]),onItemShiftTab:a.useCallback(()=>O(!0),[]),onFocusableItemAdd:a.useCallback(()=>D($=>$+1),[]),onFocusableItemRemove:a.useCallback(()=>D($=>$-1),[]),children:(0,e.jsx)(T.div,{tabIndex:E||k===0?-1:0,"data-orientation":o,...d,ref:_,style:{outline:"none",...t.style},onMouseDown:j(t.onMouseDown,()=>{B.current=!0}),onFocus:j(t.onFocus,$=>{const ne=!B.current;if($.target===$.currentTarget&&ne&&!E){const V=new CustomEvent(yt,Ta);if($.currentTarget.dispatchEvent(V),!V.defaultPrevented){const re=ce().filter(L=>L.focusable);gr([re.find(L=>L.active),re.find(L=>L.id===G),...re].filter(Boolean).map(L=>L.ref.current),f)}}B.current=!1}),onBlur:j(t.onBlur,()=>O(!1))})})}),hr="RovingFocusGroupItem",vr=a.forwardRef((t,n)=>{const{__scopeRovingFocusGroup:r,focusable:o=!0,active:s=!1,tabStopId:l,children:i,...u}=t,x=X(),p=l||x,f=Fa(hr,r),d=f.currentTabStopId===p,h=mr(r),{onFocusableItemAdd:_,onFocusableItemRemove:N,currentTabStopId:G}=f;return a.useEffect(()=>{if(o)return _(),()=>N()},[o,_,N]),(0,e.jsx)(Mt.ItemSlot,{scope:r,id:p,focusable:o,active:s,children:(0,e.jsx)(T.span,{tabIndex:d?0:-1,"data-orientation":f.orientation,...u,ref:n,onMouseDown:j(t.onMouseDown,R=>{o?f.onItemFocus(p):R.preventDefault()}),onFocus:j(t.onFocus,()=>f.onItemFocus(p)),onKeyDown:j(t.onKeyDown,R=>{if(R.key==="Tab"&&R.shiftKey){f.onItemShiftTab();return}if(R.target!==R.currentTarget)return;const E=Ba(R,f.orientation,f.dir);if(E!==void 0){if(R.metaKey||R.ctrlKey||R.altKey||R.shiftKey)return;R.preventDefault();let O=h().filter(A=>A.focusable).map(A=>A.ref.current);if(E==="last")O.reverse();else if(E==="prev"||E==="next"){E==="prev"&&O.reverse();const A=O.indexOf(R.currentTarget);O=f.loop?Va(O,A+1):O.slice(A+1)}setTimeout(()=>gr(O))}}),children:typeof i=="function"?i({isCurrentTabStop:d,hasTabStop:G!=null}):i})})});vr.displayName=hr;var Ga={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ka(t,n){return n!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Ba(t,n,r){const o=Ka(t.key,r);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return Ga[o]}function gr(t,n=!1){const r=document.activeElement;for(const o of t)if(o===r||(o.focus({preventScroll:n}),document.activeElement!==r))return}function Va(t,n){return t.map((r,o)=>t[(n+o)%t.length])}var br=xr,Cr=vr,_t=["Enter"," "],Ua=["ArrowDown","PageUp","Home"],jr=["ArrowUp","PageDown","End"],za=[...Ua,...jr],Ha={ltr:[..._t,"ArrowRight"],rtl:[..._t,"ArrowLeft"]},Wa={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Ve="Menu",[$e,qa,Ya]=Ln(Ve),[je,yr]=Pe(Ve,[Ya,ot,ct]),Ue=ot(),wr=ct(),[Nr,xe]=je(Ve),[Xa,ze]=je(Ve),Mr=t=>{const{__scopeMenu:n,open:r=!1,children:o,dir:s,onOpenChange:l,modal:i=!0}=t,u=Ue(n),[x,p]=a.useState(null),f=a.useRef(!1),d=Ge(l),h=Rt(s);return a.useEffect(()=>{const _=()=>{f.current=!0,document.addEventListener("pointerdown",N,{capture:!0,once:!0}),document.addEventListener("pointermove",N,{capture:!0,once:!0})},N=()=>f.current=!1;return document.addEventListener("keydown",_,{capture:!0}),()=>{document.removeEventListener("keydown",_,{capture:!0}),document.removeEventListener("pointerdown",N,{capture:!0}),document.removeEventListener("pointermove",N,{capture:!0})}},[]),(0,e.jsx)(Ot,{...u,children:(0,e.jsx)(Nr,{scope:n,open:r,onOpenChange:d,content:x,onContentChange:p,children:(0,e.jsx)(Xa,{scope:n,onClose:a.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:f,dir:h,modal:i,children:o})})})};Mr.displayName=Ve;var Za="MenuAnchor",zt=a.forwardRef((t,n)=>{const{__scopeMenu:r,...o}=t,s=Ue(r);return(0,e.jsx)(Pt,{...s,...o,ref:n})});zt.displayName=Za;var Ht="MenuPortal",[Ja,_r]=je(Ht,{forceMount:void 0}),Rr=t=>{const{__scopeMenu:n,forceMount:r,children:o,container:s}=t,l=xe(Ht,n);return(0,e.jsx)(Ja,{scope:n,forceMount:r,children:(0,e.jsx)(de,{present:r||l.open,children:(0,e.jsx)(Dt,{asChild:!0,container:s,children:o})})})};Rr.displayName=Ht;var te="MenuContent",[Qa,Wt]=je(te),Ir=a.forwardRef((t,n)=>{const r=_r(te,t.__scopeMenu),{forceMount:o=r.forceMount,...s}=t,l=xe(te,t.__scopeMenu),i=ze(te,t.__scopeMenu);return(0,e.jsx)($e.Provider,{scope:t.__scopeMenu,children:(0,e.jsx)(de,{present:o||l.open,children:(0,e.jsx)($e.Slot,{scope:t.__scopeMenu,children:i.modal?(0,e.jsx)(es,{...s,ref:n}):(0,e.jsx)(ts,{...s,ref:n})})})})}),es=a.forwardRef((t,n)=>{const r=xe(te,t.__scopeMenu),o=a.useRef(null),s=ae(n,o);return a.useEffect(()=>{const l=o.current;if(l)return St(l)},[]),(0,e.jsx)(qt,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:j(t.onFocusOutside,l=>l.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),ts=a.forwardRef((t,n)=>{const r=xe(te,t.__scopeMenu);return(0,e.jsx)(qt,{...t,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),ns=Tt("MenuContent.ScrollLock"),qt=a.forwardRef((t,n)=>{const{__scopeMenu:r,loop:o=!1,trapFocus:s,onOpenAutoFocus:l,onCloseAutoFocus:i,disableOutsidePointerEvents:u,onEntryFocus:x,onEscapeKeyDown:p,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:_,disableOutsideScroll:N,...G}=t,R=xe(te,r),E=ze(te,r),O=Ue(r),A=wr(r),ce=qa(r),[B,k]=a.useState(null),D=a.useRef(null),$=ae(n,D,R.onContentChange),ne=a.useRef(0),V=a.useRef(""),re=a.useRef(0),L=a.useRef(null),Z=a.useRef("right"),W=a.useRef(0),le=N?Et:a.Fragment,ue=N?{as:ns,allowPinchZoom:!0}:void 0,ie=C=>{const J=V.current+C,Q=ce().filter(y=>!y.disabled),m=document.activeElement,b=Q.find(y=>y.ref.current===m)?.textValue,w=ms(Q.map(y=>y.textValue),J,b),v=Q.find(y=>y.textValue===w)?.ref.current;(function y(M){V.current=M,window.clearTimeout(ne.current),M!==""&&(ne.current=window.setTimeout(()=>y(""),1e3))})(J),v&&setTimeout(()=>v.focus())};a.useEffect(()=>()=>window.clearTimeout(ne.current),[]),It();const z=a.useCallback(C=>Z.current===L.current?.side&&hs(C,L.current?.area),[]);return(0,e.jsx)(Qa,{scope:r,searchRef:V,onItemEnter:a.useCallback(C=>{z(C)&&C.preventDefault()},[z]),onItemLeave:a.useCallback(C=>{z(C)||(D.current?.focus(),k(null))},[z]),onTriggerLeave:a.useCallback(C=>{z(C)&&C.preventDefault()},[z]),pointerGraceTimerRef:re,onPointerGraceIntentChange:a.useCallback(C=>{L.current=C},[]),children:(0,e.jsx)(le,{...ue,children:(0,e.jsx)(kt,{asChild:!0,trapped:s,onMountAutoFocus:j(l,C=>{C.preventDefault(),D.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:(0,e.jsx)(At,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:p,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:_,children:(0,e.jsx)(br,{asChild:!0,...A,dir:E.dir,orientation:"vertical",loop:o,currentTabStopId:B,onCurrentTabStopIdChange:k,onEntryFocus:j(x,C=>{E.isUsingKeyboardRef.current||C.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,e.jsx)(Bn,{role:"menu","aria-orientation":"vertical","data-state":zr(R.open),"data-radix-menu-content":"",dir:E.dir,...O,...G,ref:$,style:{outline:"none",...G.style},onKeyDown:j(G.onKeyDown,C=>{const J=C.target.closest("[data-radix-menu-content]")===C.currentTarget,Q=C.ctrlKey||C.altKey||C.metaKey,m=C.key.length===1;J&&(C.key==="Tab"&&C.preventDefault(),!Q&&m&&ie(C.key));const b=D.current;if(C.target!==b||!za.includes(C.key))return;C.preventDefault();const w=ce().filter(v=>!v.disabled).map(v=>v.ref.current);jr.includes(C.key)&&w.reverse(),fs(w)}),onBlur:j(t.onBlur,C=>{C.currentTarget.contains(C.target)||(window.clearTimeout(ne.current),V.current="")}),onPointerMove:j(t.onPointerMove,Fe(C=>{const J=C.target,Q=W.current!==C.clientX;C.currentTarget.contains(J)&&Q&&(Z.current=C.clientX>W.current?"right":"left",W.current=C.clientX)}))})})})})})})});Ir.displayName=te;var rs="MenuGroup",Yt=a.forwardRef((t,n)=>{const{__scopeMenu:r,...o}=t;return(0,e.jsx)(T.div,{role:"group",...o,ref:n})});Yt.displayName=rs;var os="MenuLabel",Sr=a.forwardRef((t,n)=>{const{__scopeMenu:r,...o}=t;return(0,e.jsx)(T.div,{...o,ref:n})});Sr.displayName=os;var nt="MenuItem",Sn="menu.itemSelect",lt=a.forwardRef((t,n)=>{const{disabled:r=!1,onSelect:o,...s}=t,l=a.useRef(null),i=ze(nt,t.__scopeMenu),u=Wt(nt,t.__scopeMenu),x=ae(n,l),p=a.useRef(!1),f=()=>{const d=l.current;if(!r&&d){const h=new CustomEvent(Sn,{bubbles:!0,cancelable:!0});d.addEventListener(Sn,_=>o?.(_),{once:!0}),Po(d,h),h.defaultPrevented?p.current=!1:i.onClose()}};return(0,e.jsx)(kr,{...s,ref:x,disabled:r,onClick:j(t.onClick,f),onPointerDown:d=>{t.onPointerDown?.(d),p.current=!0},onPointerUp:j(t.onPointerUp,d=>{p.current||d.currentTarget?.click()}),onKeyDown:j(t.onKeyDown,d=>{const h=u.searchRef.current!=="";r||h&&d.key===" "||_t.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});lt.displayName=nt;var kr=a.forwardRef((t,n)=>{const{__scopeMenu:r,disabled:o=!1,textValue:s,...l}=t,i=Wt(nt,r),u=wr(r),x=a.useRef(null),p=ae(n,x),[f,d]=a.useState(!1),[h,_]=a.useState("");return a.useEffect(()=>{const N=x.current;N&&_((N.textContent??"").trim())},[l.children]),(0,e.jsx)($e.ItemSlot,{scope:r,disabled:o,textValue:s??h,children:(0,e.jsx)(Cr,{asChild:!0,...u,focusable:!o,children:(0,e.jsx)(T.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...l,ref:p,onPointerMove:j(t.onPointerMove,Fe(N=>{o?i.onItemLeave(N):(i.onItemEnter(N),N.defaultPrevented||N.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:j(t.onPointerLeave,Fe(N=>i.onItemLeave(N))),onFocus:j(t.onFocus,()=>d(!0)),onBlur:j(t.onBlur,()=>d(!1))})})})}),as="MenuCheckboxItem",Er=a.forwardRef((t,n)=>{const{checked:r=!1,onCheckedChange:o,...s}=t;return(0,e.jsx)(Or,{scope:t.__scopeMenu,checked:r,children:(0,e.jsx)(lt,{role:"menuitemcheckbox","aria-checked":rt(r)?"mixed":r,...s,ref:n,"data-state":Jt(r),onSelect:j(s.onSelect,()=>o?.(rt(r)?!0:!r),{checkForDefaultPrevented:!1})})})});Er.displayName=as;var Pr="MenuRadioGroup",[ss,cs]=je(Pr,{value:void 0,onValueChange:()=>{}}),Ar=a.forwardRef((t,n)=>{const{value:r,onValueChange:o,...s}=t,l=Ge(o);return(0,e.jsx)(ss,{scope:t.__scopeMenu,value:r,onValueChange:l,children:(0,e.jsx)(Yt,{...s,ref:n})})});Ar.displayName=Pr;var Tr="MenuRadioItem",Dr=a.forwardRef((t,n)=>{const{value:r,...o}=t,s=cs(Tr,t.__scopeMenu),l=r===s.value;return(0,e.jsx)(Or,{scope:t.__scopeMenu,checked:l,children:(0,e.jsx)(lt,{role:"menuitemradio","aria-checked":l,...o,ref:n,"data-state":Jt(l),onSelect:j(o.onSelect,()=>s.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});Dr.displayName=Tr;var Xt="MenuItemIndicator",[Or,ls]=je(Xt,{checked:!1}),$r=a.forwardRef((t,n)=>{const{__scopeMenu:r,forceMount:o,...s}=t,l=ls(Xt,r);return(0,e.jsx)(de,{present:o||rt(l.checked)||l.checked===!0,children:(0,e.jsx)(T.span,{...s,ref:n,"data-state":Jt(l.checked)})})});$r.displayName=Xt;var is="MenuSeparator",Fr=a.forwardRef((t,n)=>{const{__scopeMenu:r,...o}=t;return(0,e.jsx)(T.div,{role:"separator","aria-orientation":"horizontal",...o,ref:n})});Fr.displayName=is;var ds="MenuArrow",Lr=a.forwardRef((t,n)=>{const{__scopeMenu:r,...o}=t,s=Ue(r);return(0,e.jsx)(Gn,{...s,...o,ref:n})});Lr.displayName=ds;var Zt="MenuSub",[us,Gr]=je(Zt),Kr=t=>{const{__scopeMenu:n,children:r,open:o=!1,onOpenChange:s}=t,l=xe(Zt,n),i=Ue(n),[u,x]=a.useState(null),[p,f]=a.useState(null),d=Ge(s);return a.useEffect(()=>(l.open===!1&&d(!1),()=>d(!1)),[l.open,d]),(0,e.jsx)(Ot,{...i,children:(0,e.jsx)(Nr,{scope:n,open:o,onOpenChange:d,content:p,onContentChange:f,children:(0,e.jsx)(us,{scope:n,contentId:X(),triggerId:X(),trigger:u,onTriggerChange:x,children:r})})})};Kr.displayName=Zt;var Oe="MenuSubTrigger",Br=a.forwardRef((t,n)=>{const r=xe(Oe,t.__scopeMenu),o=ze(Oe,t.__scopeMenu),s=Gr(Oe,t.__scopeMenu),l=Wt(Oe,t.__scopeMenu),i=a.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:x}=l,p={__scopeMenu:t.__scopeMenu},f=a.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return a.useEffect(()=>f,[f]),a.useEffect(()=>{const d=u.current;return()=>{window.clearTimeout(d),x(null)}},[u,x]),(0,e.jsx)(zt,{asChild:!0,...p,children:(0,e.jsx)(kr,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":zr(r.open),...t,ref:ke(n,s.onTriggerChange),onClick:d=>{t.onClick?.(d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:j(t.onPointerMove,Fe(d=>{l.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!r.open&&!i.current&&(l.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:j(t.onPointerLeave,Fe(d=>{f();const h=r.content?.getBoundingClientRect();if(h){const _=r.content?.dataset.side,N=_==="right",G=N?-5:5,R=h[N?"left":"right"],E=h[N?"right":"left"];l.onPointerGraceIntentChange({area:[{x:d.clientX+G,y:d.clientY},{x:R,y:h.top},{x:E,y:h.top},{x:E,y:h.bottom},{x:R,y:h.bottom}],side:_}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>l.onPointerGraceIntentChange(null),300)}else{if(l.onTriggerLeave(d),d.defaultPrevented)return;l.onPointerGraceIntentChange(null)}})),onKeyDown:j(t.onKeyDown,d=>{const h=l.searchRef.current!=="";t.disabled||h&&d.key===" "||Ha[o.dir].includes(d.key)&&(r.onOpenChange(!0),r.content?.focus(),d.preventDefault())})})})});Br.displayName=Oe;var Vr="MenuSubContent",Ur=a.forwardRef((t,n)=>{const r=_r(te,t.__scopeMenu),{forceMount:o=r.forceMount,...s}=t,l=xe(te,t.__scopeMenu),i=ze(te,t.__scopeMenu),u=Gr(Vr,t.__scopeMenu),x=a.useRef(null),p=ae(n,x);return(0,e.jsx)($e.Provider,{scope:t.__scopeMenu,children:(0,e.jsx)(de,{present:o||l.open,children:(0,e.jsx)($e.Slot,{scope:t.__scopeMenu,children:(0,e.jsx)(qt,{id:u.contentId,"aria-labelledby":u.triggerId,...s,ref:p,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{i.isUsingKeyboardRef.current&&x.current?.focus(),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:j(t.onFocusOutside,f=>{f.target!==u.trigger&&l.onOpenChange(!1)}),onEscapeKeyDown:j(t.onEscapeKeyDown,f=>{i.onClose(),f.preventDefault()}),onKeyDown:j(t.onKeyDown,f=>{const d=f.currentTarget.contains(f.target),h=Wa[i.dir].includes(f.key);d&&h&&(l.onOpenChange(!1),u.trigger?.focus(),f.preventDefault())})})})})})});Ur.displayName=Vr;function zr(t){return t?"open":"closed"}function rt(t){return t==="indeterminate"}function Jt(t){return rt(t)?"indeterminate":t?"checked":"unchecked"}function fs(t){const n=document.activeElement;for(const r of t)if(r===n||(r.focus(),document.activeElement!==n))return}function ps(t,n){return t.map((r,o)=>t[(n+o)%t.length])}function ms(t,n,r){const o=n.length>1&&Array.from(n).every(u=>u===n[0])?n[0]:n,s=r?t.indexOf(r):-1;let l=ps(t,Math.max(s,0));o.length===1&&(l=l.filter(u=>u!==r));const i=l.find(u=>u.toLowerCase().startsWith(o.toLowerCase()));return i!==r?i:void 0}function xs(t,n){const{x:r,y:o}=t;let s=!1;for(let l=0,i=n.length-1;l<n.length;i=l++){const u=n[l],x=n[i],p=u.x,f=u.y,d=x.x,h=x.y;f>o!=h>o&&r<(d-p)*(o-f)/(h-f)+p&&(s=!s)}return s}function hs(t,n){return n?xs({x:t.clientX,y:t.clientY},n):!1}function Fe(t){return n=>n.pointerType==="mouse"?t(n):void 0}var vs=Mr,gs=zt,bs=Rr,Cs=Ir,js=Yt,ys=Sr,ws=lt,Ns=Er,Ms=Ar,_s=Dr,Rs=$r,Is=Fr,Ss=Lr,ks=Kr,Es=Br,Ps=Ur,Qt="ContextMenu",[As,Vc]=Pe(Qt,[yr]),U=yr(),[Ts,Hr]=As(Qt),Wr=t=>{const{__scopeContextMenu:n,children:r,onOpenChange:o,dir:s,modal:l=!0}=t,[i,u]=a.useState(!1),x=U(n),p=Ge(o),f=a.useCallback(d=>{u(d),p(d)},[p]);return(0,e.jsx)(Ts,{scope:n,open:i,onOpenChange:f,modal:l,children:(0,e.jsx)(vs,{...x,dir:s,open:i,onOpenChange:f,modal:l,children:r})})};Wr.displayName=Qt;var qr="ContextMenuTrigger",Yr=a.forwardRef((t,n)=>{const{__scopeContextMenu:r,disabled:o=!1,...s}=t,l=Hr(qr,r),i=U(r),u=a.useRef({x:0,y:0}),x=a.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...u.current})}),p=a.useRef(0),f=a.useCallback(()=>window.clearTimeout(p.current),[]),d=h=>{u.current={x:h.clientX,y:h.clientY},l.onOpenChange(!0)};return a.useEffect(()=>f,[f]),a.useEffect(()=>void(o&&f()),[o,f]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(gs,{...i,virtualRef:x}),(0,e.jsx)(T.span,{"data-state":l.open?"open":"closed","data-disabled":o?"":void 0,...s,ref:n,style:{WebkitTouchCallout:"none",...t.style},onContextMenu:o?t.onContextMenu:j(t.onContextMenu,h=>{f(),d(h),h.preventDefault()}),onPointerDown:o?t.onPointerDown:j(t.onPointerDown,Je(h=>{f(),p.current=window.setTimeout(()=>d(h),700)})),onPointerMove:o?t.onPointerMove:j(t.onPointerMove,Je(f)),onPointerCancel:o?t.onPointerCancel:j(t.onPointerCancel,Je(f)),onPointerUp:o?t.onPointerUp:j(t.onPointerUp,Je(f))})]})});Yr.displayName=qr;var Ds="ContextMenuPortal",Xr=t=>{const{__scopeContextMenu:n,...r}=t,o=U(n);return(0,e.jsx)(bs,{...o,...r})};Xr.displayName=Ds;var Zr="ContextMenuContent",Jr=a.forwardRef((t,n)=>{const{__scopeContextMenu:r,...o}=t,s=Hr(Zr,r),l=U(r),i=a.useRef(!1);return(0,e.jsx)(Cs,{...l,...o,ref:n,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:u=>{t.onCloseAutoFocus?.(u),!u.defaultPrevented&&i.current&&u.preventDefault(),i.current=!1},onInteractOutside:u=>{t.onInteractOutside?.(u),!u.defaultPrevented&&!s.modal&&(i.current=!0)},style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Jr.displayName=Zr;var Os="ContextMenuGroup",$s=a.forwardRef((t,n)=>{const{__scopeContextMenu:r,...o}=t,s=U(r);return(0,e.jsx)(js,{...s,...o,ref:n})});$s.displayName=Os;var Fs="ContextMenuLabel",Ls=a.forwardRef((t,n)=>{const{__scopeContextMenu:r,...o}=t,s=U(r);return(0,e.jsx)(ys,{...s,...o,ref:n})});Ls.displayName=Fs;var Gs="ContextMenuItem",Qr=a.forwardRef((t,n)=>{const{__scopeContextMenu:r,...o}=t,s=U(r);return(0,e.jsx)(ws,{...s,...o,ref:n})});Qr.displayName=Gs;var Ks="ContextMenuCheckboxItem",Bs=a.forwardRef((t,n)=>{const{__scopeContextMenu:r,...o}=t,s=U(r);return(0,e.jsx)(Ns,{...s,...o,ref:n})});Bs.displayName=Ks;var Vs="ContextMenuRadioGroup",Us=a.forwardRef((t,n)=>{const{__scopeContextMenu:r,...o}=t,s=U(r);return(0,e.jsx)(Ms,{...s,...o,ref:n})});Us.displayName=Vs;var zs="ContextMenuRadioItem",Hs=a.forwardRef((t,n)=>{const{__scopeContextMenu:r,...o}=t,s=U(r);return(0,e.jsx)(_s,{...s,...o,ref:n})});Hs.displayName=zs;var Ws="ContextMenuItemIndicator",qs=a.forwardRef((t,n)=>{const{__scopeContextMenu:r,...o}=t,s=U(r);return(0,e.jsx)(Rs,{...s,...o,ref:n})});qs.displayName=Ws;var Ys="ContextMenuSeparator",eo=a.forwardRef((t,n)=>{const{__scopeContextMenu:r,...o}=t,s=U(r);return(0,e.jsx)(Is,{...s,...o,ref:n})});eo.displayName=Ys;var Xs="ContextMenuArrow",Zs=a.forwardRef((t,n)=>{const{__scopeContextMenu:r,...o}=t,s=U(r);return(0,e.jsx)(Ss,{...s,...o,ref:n})});Zs.displayName=Xs;var to="ContextMenuSub",Js=t=>{const{__scopeContextMenu:n,children:r,onOpenChange:o,open:s,defaultOpen:l}=t,i=U(n),[u,x]=Le({prop:s,defaultProp:l??!1,onChange:o,caller:to});return(0,e.jsx)(ks,{...i,open:u,onOpenChange:x,children:r})};Js.displayName=to;var Qs="ContextMenuSubTrigger",ec=a.forwardRef((t,n)=>{const{__scopeContextMenu:r,...o}=t,s=U(r);return(0,e.jsx)(Es,{...s,...o,ref:n})});ec.displayName=Qs;var tc="ContextMenuSubContent",nc=a.forwardRef((t,n)=>{const{__scopeContextMenu:r,...o}=t,s=U(r);return(0,e.jsx)(Ps,{...s,...o,ref:n,style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});nc.displayName=tc;function Je(t){return n=>n.pointerType!=="mouse"?t(n):void 0}var rc=Wr,oc=Yr,ac=Xr,sc=Jr,cc=Qr,lc=eo;function kn({...t}){return(0,e.jsx)(rc,{"data-slot":"context-menu",...t})}function En({...t}){return(0,e.jsx)(oc,{"data-slot":"context-menu-trigger",...t})}function Pn({className:t,...n}){return(0,e.jsx)(ac,{children:(0,e.jsx)(sc,{"data-slot":"context-menu-content",className:P("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-context-menu-content-available-height) min-w-[8rem] origin-(--radix-context-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",t),...n})})}function Me({className:t,inset:n,variant:r="default",...o}){return(0,e.jsx)(cc,{"data-slot":"context-menu-item","data-inset":n,"data-variant":r,className:P("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...o})}function Qe({className:t,...n}){return(0,e.jsx)(lc,{"data-slot":"context-menu-separator",className:P("bg-border -mx-1 my-1 h-px",t),...n})}var it="Popover",[no,Uc]=Pe(it,[ot]),He=ot(),[ic,he]=no(it),ro=t=>{const{__scopePopover:n,children:r,open:o,defaultOpen:s,onOpenChange:l,modal:i=!1}=t,u=He(n),x=a.useRef(null),[p,f]=a.useState(!1),[d,h]=Le({prop:o,defaultProp:s??!1,onChange:l,caller:it});return(0,e.jsx)(Ot,{...u,children:(0,e.jsx)(ic,{scope:n,contentId:X(),triggerRef:x,open:d,onOpenChange:h,onOpenToggle:a.useCallback(()=>h(_=>!_),[h]),hasCustomAnchor:p,onCustomAnchorAdd:a.useCallback(()=>f(!0),[]),onCustomAnchorRemove:a.useCallback(()=>f(!1),[]),modal:i,children:r})})};ro.displayName=it;var oo="PopoverAnchor",dc=a.forwardRef((t,n)=>{const{__scopePopover:r,...o}=t,s=he(oo,r),l=He(r),{onCustomAnchorAdd:i,onCustomAnchorRemove:u}=s;return a.useEffect(()=>(i(),()=>u()),[i,u]),(0,e.jsx)(Pt,{...l,...o,ref:n})});dc.displayName=oo;var ao="PopoverTrigger",so=a.forwardRef((t,n)=>{const{__scopePopover:r,...o}=t,s=he(ao,r),l=He(r),i=ae(n,s.triggerRef),u=(0,e.jsx)(T.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":fo(s.open),...o,ref:i,onClick:j(t.onClick,s.onOpenToggle)});return s.hasCustomAnchor?u:(0,e.jsx)(Pt,{asChild:!0,...l,children:u})});so.displayName=ao;var en="PopoverPortal",[uc,fc]=no(en,{forceMount:void 0}),co=t=>{const{__scopePopover:n,forceMount:r,children:o,container:s}=t,l=he(en,n);return(0,e.jsx)(uc,{scope:n,forceMount:r,children:(0,e.jsx)(de,{present:r||l.open,children:(0,e.jsx)(Dt,{asChild:!0,container:s,children:o})})})};co.displayName=en;var Ee="PopoverContent",lo=a.forwardRef((t,n)=>{const r=fc(Ee,t.__scopePopover),{forceMount:o=r.forceMount,...s}=t,l=he(Ee,t.__scopePopover);return(0,e.jsx)(de,{present:o||l.open,children:l.modal?(0,e.jsx)(mc,{...s,ref:n}):(0,e.jsx)(xc,{...s,ref:n})})});lo.displayName=Ee;var pc=Tt("PopoverContent.RemoveScroll"),mc=a.forwardRef((t,n)=>{const r=he(Ee,t.__scopePopover),o=a.useRef(null),s=ae(n,o),l=a.useRef(!1);return a.useEffect(()=>{const i=o.current;if(i)return St(i)},[]),(0,e.jsx)(Et,{as:pc,allowPinchZoom:!0,children:(0,e.jsx)(io,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:j(t.onCloseAutoFocus,i=>{i.preventDefault(),l.current||r.triggerRef.current?.focus()}),onPointerDownOutside:j(t.onPointerDownOutside,i=>{const u=i.detail.originalEvent,x=u.button===0&&u.ctrlKey===!0;l.current=u.button===2||x},{checkForDefaultPrevented:!1}),onFocusOutside:j(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),xc=a.forwardRef((t,n)=>{const r=he(Ee,t.__scopePopover),o=a.useRef(!1),s=a.useRef(!1);return(0,e.jsx)(io,{...t,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:l=>{t.onCloseAutoFocus?.(l),l.defaultPrevented||(o.current||r.triggerRef.current?.focus(),l.preventDefault()),o.current=!1,s.current=!1},onInteractOutside:l=>{t.onInteractOutside?.(l),l.defaultPrevented||(o.current=!0,l.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=l.target;r.triggerRef.current?.contains(i)&&l.preventDefault(),l.detail.originalEvent.type==="focusin"&&s.current&&l.preventDefault()}})}),io=a.forwardRef((t,n)=>{const{__scopePopover:r,trapFocus:o,onOpenAutoFocus:s,onCloseAutoFocus:l,disableOutsidePointerEvents:i,onEscapeKeyDown:u,onPointerDownOutside:x,onFocusOutside:p,onInteractOutside:f,...d}=t,h=he(Ee,r),_=He(r);return It(),(0,e.jsx)(kt,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:s,onUnmountAutoFocus:l,children:(0,e.jsx)(At,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:f,onEscapeKeyDown:u,onPointerDownOutside:x,onFocusOutside:p,onDismiss:()=>h.onOpenChange(!1),children:(0,e.jsx)(Bn,{"data-state":fo(h.open),role:"dialog",id:h.contentId,..._,...d,ref:n,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),uo="PopoverClose",hc=a.forwardRef((t,n)=>{const{__scopePopover:r,...o}=t,s=he(uo,r);return(0,e.jsx)(T.button,{type:"button",...o,ref:n,onClick:j(t.onClick,()=>s.onOpenChange(!1))})});hc.displayName=uo;var vc="PopoverArrow",gc=a.forwardRef((t,n)=>{const{__scopePopover:r,...o}=t,s=He(r);return(0,e.jsx)(Gn,{...s,...o,ref:n})});gc.displayName=vc;function fo(t){return t?"open":"closed"}var bc=ro,Cc=so,jc=co,yc=lo;function wc({...t}){return(0,e.jsx)(bc,{"data-slot":"popover",...t})}function Nc({...t}){return(0,e.jsx)(Cc,{"data-slot":"popover-trigger",...t})}function Mc({className:t,align:n="center",sideOffset:r=4,...o}){return(0,e.jsx)(jc,{children:(0,e.jsx)(yc,{"data-slot":"popover-content",align:n,sideOffset:r,className:P("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...o})})}function _c({...t}){return(0,e.jsx)(Gt,{"data-slot":"sheet",...t})}function Rc({...t}){return(0,e.jsx)(Kt,{"data-slot":"sheet-portal",...t})}function Ic({className:t,...n}){return(0,e.jsx)(Bt,{"data-slot":"sheet-overlay",className:P("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...n})}function Sc({className:t,children:n,side:r="right",...o}){return(0,e.jsxs)(Rc,{children:[(0,e.jsx)(Ic,{}),(0,e.jsxs)(Vt,{"data-slot":"sheet-content",className:P("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",r==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",r==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",r==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",r==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...o,children:[n,(0,e.jsxs)(sr,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,e.jsx)(Kn,{className:"size-4"}),(0,e.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function An({className:t,...n}){return(0,e.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,e.jsx)("table",{"data-slot":"table",className:P("w-full caption-bottom text-sm",t),...n})})}function Tn({className:t,...n}){return(0,e.jsx)("thead",{"data-slot":"table-header",className:P("[&_tr]:border-b",t),...n})}function Dn({className:t,...n}){return(0,e.jsx)("tbody",{"data-slot":"table-body",className:P("[&_tr:last-child]:border-0",t),...n})}function _e({className:t,...n}){return(0,e.jsx)("tr",{"data-slot":"table-row",className:P("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...n})}function Re({className:t,...n}){return(0,e.jsx)("th",{"data-slot":"table-head",className:P("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...n})}function ee({className:t,...n}){return(0,e.jsx)("td",{"data-slot":"table-cell",className:P("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...n})}var dt="Tabs",[kc,zc]=Pe(dt,[ct]),po=ct(),[Ec,tn]=kc(dt),mo=a.forwardRef((t,n)=>{const{__scopeTabs:r,value:o,onValueChange:s,defaultValue:l,orientation:i="horizontal",dir:u,activationMode:x="automatic",...p}=t,f=Rt(u),[d,h]=Le({prop:o,onChange:s,defaultProp:l??"",caller:dt});return(0,e.jsx)(Ec,{scope:r,baseId:X(),value:d,onValueChange:h,orientation:i,dir:f,activationMode:x,children:(0,e.jsx)(T.div,{dir:f,"data-orientation":i,...p,ref:n})})});mo.displayName=dt;var xo="TabsList",ho=a.forwardRef((t,n)=>{const{__scopeTabs:r,loop:o=!0,...s}=t,l=tn(xo,r),i=po(r);return(0,e.jsx)(br,{asChild:!0,...i,orientation:l.orientation,dir:l.dir,loop:o,children:(0,e.jsx)(T.div,{role:"tablist","aria-orientation":l.orientation,...s,ref:n})})});ho.displayName=xo;var vo="TabsTrigger",go=a.forwardRef((t,n)=>{const{__scopeTabs:r,value:o,disabled:s=!1,...l}=t,i=tn(vo,r),u=po(r),x=jo(i.baseId,o),p=yo(i.baseId,o),f=o===i.value;return(0,e.jsx)(Cr,{asChild:!0,...u,focusable:!s,active:f,children:(0,e.jsx)(T.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":p,"data-state":f?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:x,...l,ref:n,onMouseDown:j(t.onMouseDown,d=>{!s&&d.button===0&&d.ctrlKey===!1?i.onValueChange(o):d.preventDefault()}),onKeyDown:j(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&i.onValueChange(o)}),onFocus:j(t.onFocus,()=>{const d=i.activationMode!=="manual";!f&&!s&&d&&i.onValueChange(o)})})})});go.displayName=vo;var bo="TabsContent",Co=a.forwardRef((t,n)=>{const{__scopeTabs:r,value:o,forceMount:s,children:l,...i}=t,u=tn(bo,r),x=jo(u.baseId,o),p=yo(u.baseId,o),f=o===u.value,d=a.useRef(f);return a.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),(0,e.jsx)(de,{present:s||f,children:({present:h})=>(0,e.jsx)(T.div,{"data-state":f?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":x,hidden:!h,id:p,tabIndex:0,...i,ref:n,style:{...t.style,animationDuration:d.current?"0s":void 0},children:h&&l})})});Co.displayName=bo;function jo(t,n){return`${t}-trigger-${n}`}function yo(t,n){return`${t}-content-${n}`}var Pc=mo,Ac=ho,Tc=go,Dc=Co;function On({className:t,...n}){return(0,e.jsx)(Pc,{"data-slot":"tabs",className:P("flex flex-col gap-2",t),...n})}function $n({className:t,...n}){return(0,e.jsx)(Ac,{"data-slot":"tabs-list",className:P("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",t),...n})}function et({className:t,...n}){return(0,e.jsx)(Tc,{"data-slot":"tabs-trigger",className:P("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...n})}function Fn({className:t,...n}){return(0,e.jsx)(Dc,{"data-slot":"tabs-content",className:P("flex-1 outline-none",t),...n})}var Y=a.memo(({src:t,alt:n,className:r,fallbackIcon:o})=>{const[s,l]=(0,a.useState)(!1);return(0,e.jsxs)(Fo,{className:r,children:[(0,e.jsx)($o,{src:t,alt:n,onError:()=>l(!0)}),(0,e.jsx)(Oo,{children:s&&o?(0,e.jsx)(o,{className:"h-4 w-4"}):n.charAt(0).toUpperCase()})]})});function Hc(){const t=ko(),[n,r]=(0,a.useState)([]),[o,s]=(0,a.useState)(""),[l,i]=(0,a.useState)([]),[u,x]=(0,a.useState)([]),[p,f]=(0,a.useState)([]),[d,h]=(0,a.useState)(""),[_,N]=(0,a.useState)(!1),[G,R]=(0,a.useState)(""),[E,O]=(0,a.useState)(""),[A,ce]=(0,a.useState)("douyin"),[B,k]=(0,a.useState)(!1),[D,$]=(0,a.useState)(!1),[ne,V]=(0,a.useState)(!1),[re,L]=(0,a.useState)(!1),[Z,W]=(0,a.useState)(null),[le,ue]=(0,a.useState)(!1),[ie,z]=(0,a.useState)(!1),[C,J]=(0,a.useState)(!1),[Q,m]=(0,a.useState)(null),[b,w]=(0,a.useState)(!1),[v,y]=(0,a.useState)(!1),[M,F]=(0,a.useState)(null),I=(0,a.useRef)({authors:{},douyinContent:{},bilibiliContent:{},lastFetch:{}}),We=300*1e3,Te=(0,a.useRef)(void 0),nn=(0,a.useCallback)(c=>{m(c),J(!0)},[]),rn=(0,a.useCallback)((c,g)=>{W({id:c,platform:g}),L(!0)},[]),ut=(0,a.useCallback)(async(c,g="复制成功")=>{try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(c);else{const S=document.createElement("textarea");S.value=c,S.style.position="fixed",S.style.left="-999999px",S.style.top="-999999px",document.body.appendChild(S),S.focus(),S.select(),document.execCommand("copy"),S.remove()}q(g)}catch(S){console.error("复制失败:",S),q.error("复制失败，请手动长按复制")}},[]),ye=(0,a.useCallback)(c=>{const g=I.current.lastFetch[c];return g&&Date.now()-g<We},[We]),on=(0,a.useCallback)(async()=>{try{const c=await ge.serverGet("/api/kkk/groups");c&&(r(c),s(g=>!g&&c.length>0?c[0].id:g))}catch(c){console.error("获取群组列表失败:",c)}},[]),qe=(0,a.useCallback)(async c=>{if(!c)return;const g=`authors_${c}`;if(ye(g)&&I.current.authors[c]){f(I.current.authors[c]);return}try{$(!0);const S=await ge.serverGet(`/api/kkk/authors?groupId=${c}`);S&&(I.current.authors[c]=S,I.current.lastFetch[g]=Date.now(),f(S))}catch(S){console.error("获取作者列表失败:",S),q.error(S||"获取作者列表失败")}finally{$(!1)}},[ye]),an=(0,a.useCallback)(c=>{Te.current&&clearTimeout(Te.current),Te.current=setTimeout(()=>{qe(c)},300)},[qe]),we=(0,a.useCallback)(async c=>{if(!c)return;const g=`douyin_${c}`;if(ye(g)&&I.current.douyinContent[c]){i(I.current.douyinContent[c]);return}try{k(!0);const S=await ge.serverGet(`/api/kkk/content/douyin?groupId=${c}`);S&&(I.current.douyinContent[c]=S,I.current.lastFetch[g]=Date.now(),i(S))}catch(S){console.error("获取抖音内容失败:",S)}finally{k(!1)}},[ye]),Ne=(0,a.useCallback)(async c=>{if(!c)return;const g=`bilibili_${c}`;if(ye(g)&&I.current.bilibiliContent[c]){x(I.current.bilibiliContent[c]);return}try{k(!0);const S=await ge.serverGet(`/api/kkk/content/bilibili?groupId=${c}`);S&&(I.current.bilibiliContent[c]=S,I.current.lastFetch[g]=Date.now(),x(S))}catch(S){console.error("获取B站内容失败:",S)}finally{k(!1)}},[ye]),Ye=(0,a.useMemo)(()=>{let c=l;return d&&(c=c.filter(g=>g.title.toLowerCase().includes(d.toLowerCase())||g.author.toLowerCase().includes(d.toLowerCase()))),c},[l,d]),Xe=(0,a.useMemo)(()=>{let c=u;return d&&(c=c.filter(g=>g.title.toLowerCase().includes(d.toLowerCase())||g.author.toLowerCase().includes(d.toLowerCase()))),c},[u,d]),wo=()=>{if(!G.trim()||!o){alert("请填写完整信息");return}if(!E&&M){q.error("请选择或添加对应的作者");return}if(!E){alert("请选择作者");return}V(!0)},No=async()=>{try{const c=A==="douyin"?"/api/kkk/content/douyin":"/api/kkk/content/bilibili",g={contentId:G.trim(),groupId:o,authorId:E};M&&(g.parsedInfo={title:M.title,author:M.author,type:M.type,thumbnail:M.thumbnail,description:M.description}),await ge.serverPost(c,g);const S=`${A}_${o}`;delete I.current.lastFetch[S],A==="douyin"?delete I.current.douyinContent[o]:delete I.current.bilibiliContent[o],R(""),O(""),F(null),y(!1),N(!1),V(!1),z(!1),A==="douyin"?await we(o):await Ne(o),q.success("内容添加成功")}catch(c){console.error("添加内容失败:",c),q.error("添加内容失败")}},Mo=async()=>{if(!(!o||!Z))try{await ge.serverPost("/api/kkk/content/delete",{id:Z.id,platform:Z.platform,groupId:o});const c=`${Z.platform}_${o}`;delete I.current.lastFetch[c],Z.platform==="douyin"?delete I.current.douyinContent[o]:delete I.current.bilibiliContent[o],Z.platform==="douyin"?await we(o):await Ne(o),L(!1),W(null),q.success("删除成功")}catch(c){console.error("删除内容失败:",c),q.error("删除内容失败")}},fe=(c,g=12)=>c.length<=g?c:c.substring(0,g)+"...",sn=(0,a.useCallback)(c=>[/https?:\/\/(?:[^\s]*\.)?(?:douyin\.com|iesdouyin\.com|webcast\.amemv\.com|live\.douyin\.com)/i,/https?:\/\/(?:www\.bilibili\.com|m\.bilibili\.com|t\.bilibili\.com|b23\.tv|bili2233\.cn)/i].some(g=>g.test(c.trim())),[]),cn=(0,a.useCallback)(async c=>{try{y(!0);const g=await Eo.parseVideo(c);g.id=g.id.split("_")[0],F(g),R(g.id),o&&p.length===0&&await qe(o),setTimeout(()=>{const S=p.find(dn=>dn.name===g.author&&dn.platform===A);S?(O(S.id),q.success(`已自动选择作者：${S.name}`)):q.error(`未找到匹配的作者"${g.author}"，请手动选择或添加新作者`)},500),q.success(`解析成功！获取到${g.type==="video"?"视频":g.type==="note"?"图文":"动态"}：${g.title}`)}catch(g){console.error("解析链接失败:",g),q.error(`解析失败：${g instanceof Error?g.message:"未知错误"}`),F(null)}finally{y(!1)}},[p,A,o,qe]),_o=(0,a.useCallback)(c=>{R(c),M&&F(null),sn(c)&&cn(c)},[sn,cn,M]),Ro=(0,a.useCallback)(c=>{N(c),c||(R(""),O(""),F(null),y(!1),V(!1),z(!1))},[]);(0,a.useEffect)(()=>{on()},[on]),(0,a.useEffect)(()=>{O(""),z(!1),F(null),R(""),y(!1)},[A]);const H=n.find(c=>c.id===o),ln=(0,a.useMemo)(()=>p.filter(c=>c.platform===A),[p,A]);(0,a.useEffect)(()=>{o&&(we(o),Ne(o))},[o,we,Ne]),(0,a.useEffect)(()=>()=>{Te.current&&clearTimeout(Te.current)},[]);const Io=(0,a.useCallback)(async c=>{if(b){if(!o)return;try{await ge.serverPost("/api/kkk/content/delete",{id:c.id,platform:c.platform,groupId:o});const g=`${c.platform}_${o}`;delete I.current.lastFetch[g],c.platform==="douyin"?delete I.current.douyinContent[o]:delete I.current.bilibiliContent[o],c.platform==="douyin"?await we(o):await Ne(o),J(!1),w(!1),q.success("删除成功")}catch(g){console.error("删除失败:",g),q.error("删除失败，请重试"),w(!1)}}else w(!0)},[b,o,Ne,we]),So=a.memo(({item:c})=>(0,e.jsxs)("div",{className:"space-y-6",children:[(0,e.jsxs)("div",{className:"flex items-start gap-4",children:[(0,e.jsx)(Y,{src:c.avatar,alt:`${c.author}头像`,className:"h-16 w-16 rounded-full object-cover",fallbackIcon:K}),(0,e.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,e.jsx)("h3",{className:"text-lg font-semibold",children:c.author}),(0,e.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-3",children:c.title||"暂无标题"}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)(ve,{variant:"secondary",className:"text-xs",children:c.type==="video"?"视频":c.type==="note"?"图文":"动态"}),(0,e.jsx)(ve,{variant:"outline",className:"text-xs",children:c.platform==="douyin"?"抖音":"B站"})]})]})]}),(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("h4",{className:"text-sm font-medium mb-2",children:"内容ID"}),(0,e.jsx)("div",{className:"bg-muted p-3 rounded-md",children:(0,e.jsx)("p",{className:"text-xs font-mono break-all",children:c.id})})]}),(0,e.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("h4",{className:"text-sm font-medium mb-1",children:"发布时间"}),(0,e.jsx)("p",{className:"text-sm text-muted-foreground",children:new Date(c.publishTime).toLocaleString()})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("h4",{className:"text-sm font-medium mb-1",children:"创建时间"}),(0,e.jsx)("p",{className:"text-sm text-muted-foreground",children:new Date(c.createdAt).toLocaleString()})]})]}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)("h4",{className:"text-sm font-medium",children:"推送状态"}),(0,e.jsx)(ve,{variant:c.pushStatus==="success"?"default":c.pushStatus==="failed"?"destructive":c.pushStatus==="blocked"?"secondary":"outline",children:c.pushStatus==="success"?"成功":c.pushStatus==="failed"?"失败":c.pushStatus==="blocked"?"已屏蔽":"待处理"})]})]}),(0,e.jsxs)("div",{className:"space-y-3 pt-4 border-t",children:[(0,e.jsxs)(oe,{variant:"outline",className:"w-full justify-start",onClick:()=>{const g=c.platform==="douyin"?`https://www.douyin.com/video/${c.id}`:`https://t.bilibili.com/${c.id}`;window.open(g,"_blank")},children:[(0,e.jsx)(ht,{className:"h-4 w-4 mr-2"}),"跳转",c.platform==="douyin"?"抖音":"B站"]}),(0,e.jsxs)(oe,{variant:"outline",className:"w-full justify-start",onClick:()=>ut(c.id,"复制成功"),children:[(0,e.jsx)(xt,{className:"h-4 w-4 mr-2"}),"复制链接"]}),(0,e.jsxs)(oe,{variant:b?"destructive":"outline",className:"w-full justify-start",onClick:()=>Io(c),children:[(0,e.jsx)(gt,{className:`${b?"":"text-destructive"} h-4 w-4 mr-2`}),(0,e.jsx)("span",{className:`${b?"":"text-destructive"}`,children:b?"确认删除":"删除内容"})]})]})]}));return(0,e.jsxs)("div",{className:"container mx-auto p-4 space-y-4",children:[(0,e.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,e.jsx)("div",{className:"flex items-center gap-2",children:(0,e.jsx)("h1",{className:"text-2xl font-bold",children:"推送历史管理"})}),(0,e.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:items-center",children:[(0,e.jsx)(Ze,{className:"text-sm font-medium whitespace-nowrap",children:"选择群组:"}),(0,e.jsxs)(wc,{open:le,onOpenChange:ue,children:[(0,e.jsx)(Nc,{asChild:!0,children:(0,e.jsxs)(oe,{variant:"outline",role:"combobox","aria-expanded":le,className:P("w-full sm:w-[200px] justify-between",!o&&"text-muted-foreground"),children:[o?(()=>{const c=n.find(g=>g.id===o);return c?(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)(Y,{src:c.avatar,alt:`${c.name}头像`,className:"h-4 w-4 rounded-full object-cover",fallbackIcon:K}),(0,e.jsx)("span",{children:c.name})]}):"请选择群组"})():"请选择群组",(0,e.jsx)(xn,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]})}),(0,e.jsx)(Mc,{className:"w-full sm:w-[200px] p-0",children:(0,e.jsxs)(wn,{children:[(0,e.jsx)(Nn,{placeholder:"搜索群组...",className:"h-9"}),(0,e.jsxs)(Mn,{children:[(0,e.jsx)(_n,{children:"未找到群组。"}),(0,e.jsx)(Rn,{children:n.map(c=>(0,e.jsxs)(In,{value:c.name,onSelect:()=>{s(c.id),ue(!1)},children:[(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)(Y,{src:c.avatar,alt:`${c.name}头像`,className:"h-4 w-4 rounded-full object-cover",fallbackIcon:K}),(0,e.jsx)("span",{children:c.name})]}),(0,e.jsx)(un,{className:P("ml-auto h-4 w-4",o===c.id?"opacity-100":"opacity-0")})]},c.id))})]})]})})]})]})]}),H&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"grid grid-cols-4 gap-1 bg-default/5 p-2 rounded-lg",children:[(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)(ft,{className:"h-4 w-4 text-blue-600 mx-auto mb-1"}),(0,e.jsx)("div",{className:"text-lg font-bold text-blue-700",children:Ye.length}),(0,e.jsx)("div",{className:"text-xs text-gray-600",children:"抖音"})]}),(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)(vt,{className:"h-4 w-4 text-pink-600 mx-auto mb-1"}),(0,e.jsx)("div",{className:"text-lg font-bold text-pink-700",children:Xe.length}),(0,e.jsx)("div",{className:"text-xs text-gray-600",children:"B站"})]}),(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)(K,{className:"h-4 w-4 text-green-600 mx-auto mb-1"}),(0,e.jsx)("div",{className:"text-lg font-bold text-green-700",children:H.subscriptionCount.douyin}),(0,e.jsx)("div",{className:"text-xs text-gray-600",children:"抖音订阅"})]}),(0,e.jsxs)("div",{className:"text-center",children:[(0,e.jsx)(K,{className:"h-4 w-4 text-purple-600 mx-auto mb-1"}),(0,e.jsx)("div",{className:"text-lg font-bold text-purple-700",children:H.subscriptionCount.bilibili}),(0,e.jsx)("div",{className:"text-xs text-gray-600",children:"B站订阅"})]})]}),(0,e.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,e.jsx)(mn,{placeholder:"搜索内容或作者...",value:d,onChange:c=>h(c.target.value),className:"flex-1"}),(0,e.jsxs)(bn,{open:_,onOpenChange:Ro,children:[(0,e.jsx)(Ea,{asChild:!0,children:(0,e.jsxs)(oe,{onClick:()=>{o&&p.length===0&&an(o)},children:[(0,e.jsx)(Uo,{className:"h-4 w-4 mr-2"}),"添加内容"]})}),(0,e.jsxs)(Cn,{className:"sm:max-w-md",children:[(0,e.jsxs)(jn,{className:"pb-4",children:[(0,e.jsx)(yn,{children:"添加新内容"}),H&&(0,e.jsxs)("div",{className:"flex items-center justify-center gap-2 mt-2 p-3 bg-muted/50 rounded-lg border",children:[(0,e.jsx)(Y,{src:H.avatar,alt:H.name,className:"w-6 h-6 rounded-full",fallbackIcon:K}),(0,e.jsxs)("span",{className:"text-sm text-muted-foreground",children:["将添加到 ",(0,e.jsx)("span",{className:"font-medium text-foreground",children:H.name})," 群"]})]})]}),(0,e.jsxs)("div",{className:"space-y-6",children:[(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(Ze,{children:"平台类型"}),(0,e.jsx)(On,{value:A,onValueChange:ce,children:(0,e.jsxs)($n,{className:"grid w-full grid-cols-2",children:[(0,e.jsx)(et,{value:"douyin",children:"抖音"}),(0,e.jsx)(et,{value:"bilibili",children:"B站"})]})})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsxs)(Ze,{children:["选择作者 ",(0,e.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,e.jsxs)("div",{className:"relative",children:[(0,e.jsxs)(oe,{variant:"outline",role:"combobox","aria-expanded":ie,className:P("w-full justify-between",!E&&"text-muted-foreground"),onClick:()=>{z(!ie),!ie&&o&&an(o)},children:[E?(()=>{const c=ln.find(g=>g.id===E);return c?(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)(Y,{src:c.avatar,alt:`${c.name}头像`,className:"h-4 w-4 rounded-full object-cover",fallbackIcon:K}),(0,e.jsx)("span",{children:c.name})]}):"请选择作者"})():"请选择作者",(0,e.jsx)(xn,{className:"ml-2 h-4 w-4 shrink-0 opacity-50"})]}),ie&&(0,e.jsx)("div",{className:"absolute top-full left-0 right-0 z-50 mt-1 bg-popover border rounded-md shadow-md",children:(0,e.jsxs)(wn,{children:[(0,e.jsx)(Nn,{placeholder:"搜索作者..."}),(0,e.jsxs)(Mn,{className:"max-h-[200px] overflow-y-scroll",children:[(0,e.jsx)(_n,{children:D?"加载中...":"该平台未订阅任何内容"}),(0,e.jsx)(Rn,{children:ln.map(c=>(0,e.jsxs)(In,{value:c.name,onSelect:()=>{O(c.id),z(!1)},children:[(0,e.jsx)(un,{className:P("mr-2 h-4 w-4",E===c.id?"opacity-100":"opacity-0")}),(0,e.jsxs)("div",{className:"flex items-center gap-2",children:[(0,e.jsx)(Y,{src:c.avatar,alt:`${c.name}头像`,className:"h-4 w-4 rounded-full object-cover",fallbackIcon:K}),(0,e.jsx)("span",{children:c.name})]})]},c.id))})]})]})})]})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(Ze,{htmlFor:"contentId",className:"text-sm font-medium",children:"内容ID或链接"}),(0,e.jsx)(mn,{id:"contentId",placeholder:`请输入${A==="douyin"?"抖音":"B站"}内容ID或分享链接`,value:G,onChange:c=>_o(c.target.value),disabled:v,className:"transition-all duration-200"}),v&&(0,e.jsxs)("div",{className:"flex items-center gap-2 text-sm text-blue-600",children:[(0,e.jsx)("div",{className:"w-4 h-4 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}),(0,e.jsx)("span",{children:"正在解析链接..."})]}),M&&(0,e.jsxs)("div",{className:"mt-4 p-4 rounded-lg border",children:[(0,e.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,e.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,e.jsx)("span",{className:"text-sm font-medium text-default/80",children:"解析成功"})]}),(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"text-xs text-default/40 mb-1 font-medium",children:"标题"}),(0,e.jsx)("div",{className:"text-sm text-default leading-relaxed line-clamp-2",children:M.title})]}),(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{className:"text-xs text-default/40 mb-1 font-medium",children:"内容ID"}),(0,e.jsx)("div",{className:"rounded-md",children:(0,e.jsx)("code",{className:"text-xs font-mono text-default break-all",children:M.id})})]})]})]})]}),ne?(0,e.jsxs)("div",{className:"space-y-3",children:[(0,e.jsxs)("div",{className:"text-center text-sm text-muted-foreground border-t pt-3",children:["下次推送任务将不再推送该",A==="douyin"?"作品":"动态"]}),(0,e.jsxs)("div",{className:"flex gap-2",children:[(0,e.jsx)(oe,{variant:"outline",onClick:()=>V(!1),className:"flex-1",children:"取消"}),(0,e.jsx)(oe,{variant:"destructive",onClick:No,className:"flex-1",children:"确认！"})]})]}):(0,e.jsx)(oe,{onClick:wo,className:"w-full",disabled:!G.trim()||!E,children:"添加内容"})]})]})]})]}),(0,e.jsxs)(On,{defaultValue:"douyin",className:"w-full",children:[(0,e.jsxs)($n,{className:"grid w-full grid-cols-2",children:[(0,e.jsxs)(et,{value:"douyin",className:"flex items-center gap-2",children:[(0,e.jsx)(ft,{className:"h-4 w-4"}),"抖音"]}),(0,e.jsxs)(et,{value:"bilibili",className:"flex items-center gap-2",children:[(0,e.jsx)(vt,{className:"h-4 w-4"}),"B站"]})]}),(0,e.jsx)(Fn,{value:"douyin",children:(0,e.jsxs)(pt,{children:[(0,e.jsx)(fn,{children:(0,e.jsxs)(pn,{className:"flex items-center gap-2",children:[(0,e.jsx)(ft,{className:"h-5 w-5"}),"抖音作品列表",(0,e.jsx)(ve,{variant:"secondary",children:Ye.length})]})}),(0,e.jsx)(mt,{children:B?(0,e.jsx)("div",{className:"text-center py-8",children:"加载中..."}):Ye.length===0?(0,e.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,e.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[H?.avatar&&(0,e.jsx)(Y,{src:H.avatar,alt:H.name,className:"w-6 h-6 rounded-full",fallbackIcon:K}),(0,e.jsx)("span",{className:"font-medium",children:H?.name||"当前群"})]}),d?"没有找到匹配的内容":"暂无已缓存的抖音推送"]}):(0,e.jsx)("div",{className:"overflow-x-auto relative",children:(0,e.jsxs)(An,{children:[(0,e.jsx)(Tn,{children:(0,e.jsxs)(_e,{children:[(0,e.jsx)(Re,{children:"作者"}),(0,e.jsx)(Re,{children:"ID"}),(0,e.jsx)(Re,{className:"hidden sm:table-cell",children:"发布时间"})]})}),(0,e.jsx)(Dn,{children:Ye.map(c=>t?(0,e.jsxs)(_e,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>nn(c),children:[(0,e.jsx)(ee,{className:"py-4",children:(0,e.jsxs)("div",{className:"flex items-center gap-3",children:[(0,e.jsx)(Y,{src:c.avatar,alt:`${c.author}头像`,className:"h-8 w-8 rounded-full object-cover",fallbackIcon:K}),(0,e.jsx)("span",{className:"font-medium",title:c.author,children:fe(c.author)})]})}),(0,e.jsx)(ee,{className:"py-4 font-mono text-sm",children:fe(c.id,12)}),(0,e.jsx)(ee,{className:"hidden sm:table-cell py-4",children:new Date(c.publishTime).toLocaleString()})]},c.id):(0,e.jsxs)(kn,{children:[(0,e.jsx)(En,{asChild:!0,children:(0,e.jsxs)(_e,{className:"cursor-pointer hover:bg-muted/50 transition-colors",children:[(0,e.jsx)(ee,{className:"py-3",children:(0,e.jsxs)("div",{className:"flex items-center gap-2 rounded-md p-1 transition-colors",children:[(0,e.jsx)(Y,{src:c.avatar,alt:`${c.author}头像`,className:"h-6 w-6 rounded-full object-cover",fallbackIcon:K}),(0,e.jsx)("span",{title:c.author,children:fe(c.author)})]})}),(0,e.jsx)(ee,{className:"py-3 font-mono text-sm hover:text-primary transition-colors",children:fe(c.id,12)}),(0,e.jsx)(ee,{className:"hidden sm:table-cell py-3 hover:text-primary transition-colors",children:new Date(c.publishTime).toLocaleString()})]})}),(0,e.jsxs)(Pn,{className:"w-80",children:[(0,e.jsxs)("div",{className:"p-4",children:[(0,e.jsxs)("div",{className:"flex items-start gap-3",children:[(0,e.jsx)(Y,{src:c.avatar,alt:`${c.author}头像`,className:"h-12 w-12 rounded-full object-cover",fallbackIcon:K}),(0,e.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,e.jsx)("h4",{className:"text-sm font-semibold",children:c.author}),(0,e.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2",children:c.title||"暂无标题"}),(0,e.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,e.jsx)(ve,{variant:"secondary",children:c.type==="video"?"视频":c.type==="note"?"图文":"动态"}),(0,e.jsx)("span",{className:"text-muted-foreground",children:new Date(c.publishTime).toLocaleString()})]})]})]}),(0,e.jsxs)("div",{className:"mt-3 pt-3 border-t",children:[(0,e.jsx)("h5",{className:"text-xs font-medium text-muted-foreground mb-1",children:"内容ID"}),(0,e.jsx)("p",{className:"text-xs font-mono bg-muted p-2 rounded break-all",children:c.id})]})]}),(0,e.jsx)(Qe,{}),(0,e.jsxs)(Me,{onClick:()=>window.open(`https://www.douyin.com/video/${c.id}`,"_blank"),children:[(0,e.jsx)(ht,{className:"h-4 w-4 mr-2"}),"跳转抖音"]}),(0,e.jsxs)(Me,{onClick:()=>ut(`https://www.douyin.com/video/${c.id}`,"复制成功"),children:[(0,e.jsx)(xt,{className:"h-4 w-4 mr-2"}),"复制链接"]}),(0,e.jsx)(Qe,{}),(0,e.jsxs)(Me,{className:"text-destructive focus:text-destructive",onClick:()=>rn(c.id,"douyin"),children:[(0,e.jsx)(gt,{className:"text-destructive h-4 w-4 mr-2"}),"删除内容"]})]})]},c.id))})]})})})]})}),(0,e.jsx)(Fn,{value:"bilibili",children:(0,e.jsxs)(pt,{children:[(0,e.jsx)(fn,{children:(0,e.jsxs)(pn,{className:"flex items-center gap-2",children:[(0,e.jsx)(vt,{className:"h-5 w-5"}),"B站动态列表",(0,e.jsx)(ve,{variant:"secondary",children:Xe.length})]})}),(0,e.jsx)(mt,{children:B?(0,e.jsx)("div",{className:"text-center py-8",children:"加载中..."}):Xe.length===0?(0,e.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,e.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[H?.avatar&&(0,e.jsx)(Y,{src:H.avatar,alt:H.name,className:"w-6 h-6 rounded-full",fallbackIcon:K}),(0,e.jsx)("span",{className:"font-medium",children:H?.name||"当前群"})]}),d?"没有找到匹配的内容":"暂无已缓存的B站推送"]}):(0,e.jsx)("div",{className:"overflow-x-auto relative",children:(0,e.jsxs)(An,{children:[(0,e.jsx)(Tn,{children:(0,e.jsxs)(_e,{children:[(0,e.jsx)(Re,{children:"作者"}),(0,e.jsx)(Re,{children:"ID"}),(0,e.jsx)(Re,{className:"hidden sm:table-cell",children:"发布时间"})]})}),(0,e.jsx)(Dn,{children:Xe.map(c=>t?(0,e.jsxs)(_e,{className:"cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>nn(c),children:[(0,e.jsx)(ee,{className:"py-4",children:(0,e.jsxs)("div",{className:"flex items-center gap-3",children:[(0,e.jsx)(Y,{src:c.avatar,alt:`${c.author}头像`,className:"h-8 w-8 rounded-full object-cover",fallbackIcon:K}),(0,e.jsx)("span",{className:"font-medium",title:c.author,children:fe(c.author)})]})}),(0,e.jsx)(ee,{className:"py-4 font-mono text-sm",children:fe(c.id,12)}),(0,e.jsx)(ee,{className:"hidden sm:table-cell py-4",children:new Date(c.publishTime).toLocaleString()})]},c.id):(0,e.jsxs)(kn,{children:[(0,e.jsx)(En,{asChild:!0,children:(0,e.jsxs)(_e,{className:"cursor-pointer hover:bg-muted/50 transition-colors",children:[(0,e.jsx)(ee,{className:"py-3",children:(0,e.jsxs)("div",{className:"flex items-center gap-2 rounded-md p-1 transition-colors",children:[(0,e.jsx)(Y,{src:c.avatar,alt:`${c.author}头像`,className:"h-6 w-6 rounded-full object-cover",fallbackIcon:K}),(0,e.jsx)("span",{title:c.author,children:fe(c.author)})]})}),(0,e.jsx)(ee,{className:"py-3 font-mono text-sm hover:text-primary transition-colors",children:fe(c.id,12)}),(0,e.jsx)(ee,{className:"hidden sm:table-cell py-3 hover:text-primary transition-colors",children:new Date(c.publishTime).toLocaleString()})]})}),(0,e.jsxs)(Pn,{className:"w-80",children:[(0,e.jsxs)("div",{className:"p-4",children:[(0,e.jsxs)("div",{className:"flex items-start gap-3",children:[(0,e.jsx)(Y,{src:c.avatar,alt:`${c.author}头像`,className:"h-12 w-12 rounded-full object-cover",fallbackIcon:K}),(0,e.jsxs)("div",{className:"flex-1 space-y-1",children:[(0,e.jsx)("h4",{className:"text-sm font-semibold",children:c.author}),(0,e.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2",children:c.title||"暂无标题"}),(0,e.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[(0,e.jsx)(ve,{variant:"secondary",children:c.type==="video"?"视频":c.type==="note"?"图文":"动态"}),(0,e.jsx)("span",{className:"text-muted-foreground",children:new Date(c.publishTime).toLocaleString()})]})]})]}),(0,e.jsxs)("div",{className:"mt-3 pt-3 border-t",children:[(0,e.jsx)("h5",{className:"text-xs font-medium text-muted-foreground mb-1",children:"内容ID"}),(0,e.jsx)("p",{className:"text-xs font-mono bg-muted p-2 rounded break-all",children:c.id})]})]}),(0,e.jsx)(Qe,{}),(0,e.jsxs)(Me,{onClick:()=>window.open(`https://t.bilibili.com/${c.id}`,"_blank"),children:[(0,e.jsx)(ht,{className:"h-4 w-4 mr-2"}),"跳转B站"]}),(0,e.jsxs)(Me,{onClick:()=>ut(`https://t.bilibili.com/${c.id}`,"复制成功"),children:[(0,e.jsx)(xt,{className:"h-4 w-4 mr-2"}),"复制链接"]}),(0,e.jsx)(Qe,{}),(0,e.jsxs)(Me,{className:"text-destructive focus:text-destructive",onClick:()=>rn(c.id,"bilibili"),children:[(0,e.jsx)(gt,{className:"text-destructive text-danger h-4 w-4 mr-2"}),"删除内容"]})]})]},c.id))})]})})})]})})]}),(0,e.jsx)(_c,{open:C,onOpenChange:c=>{J(c),c||w(!1)},children:(0,e.jsx)(Sc,{side:"bottom",className:"max-h-[85vh] overflow-y-auto p-6",children:Q&&(0,e.jsx)(So,{item:Q})})})]}),n.length===0&&(0,e.jsx)(pt,{children:(0,e.jsxs)(mt,{className:"text-center py-8",children:[(0,e.jsx)(K,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),(0,e.jsx)("p",{className:"text-muted-foreground",children:"暂无已订阅推送功能的群组"})]})}),(0,e.jsx)(bn,{open:re,onOpenChange:L,children:(0,e.jsxs)(Cn,{className:"sm:max-w-md",children:[(0,e.jsx)(jn,{children:(0,e.jsx)(yn,{children:"确认删除"})}),(0,e.jsxs)("div",{className:"space-y-4",children:[(0,e.jsxs)("p",{className:"text-sm text-muted-foreground",children:["确定要删除这个",Z?.platform==="douyin"?"抖音作品":"B站动态","吗？"]}),(0,e.jsx)("p",{className:"text-sm text-muted-foreground",children:"删除后该内容将从已缓存列表中移除，下次推送时可能会重新推送。"}),(0,e.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,e.jsx)(oe,{variant:"outline",onClick:()=>{L(!1),W(null)},className:"flex-1",children:"取消"}),(0,e.jsx)(oe,{variant:"destructive",onClick:Mo,className:"flex-1",children:"确认删除"})]})]})]})})]})}export{Hc as default};
